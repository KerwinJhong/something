(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-772077e4"],{"5aa0":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},n=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"spinner"},[a("div",{staticClass:"bouncing-loader"},[a("div"),a("div"),a("div")])])}],r={name:"Spinner"},s=r,o=(a("86c7"),a("2877")),c=Object(o["a"])(s,i,n,!1,null,"99d7148a",null);e["a"]=c.exports},"7db0":function(t,e,a){"use strict";var i=a("23e7"),n=a("b727").find,r=a("44d2"),s=a("ae40"),o="find",c=!0,l=s(o);o in[]&&Array(1)[o]((function(){c=!1})),i({target:"Array",proto:!0,forced:c||!l},{find:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}}),r(o)},"86c7":function(t,e,a){"use strict";var i=a("a462"),n=a.n(i);n.a},a462:function(t,e,a){},acfe:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h2",{staticClass:"text-center mb-3"},[t._v("點餐")]),t.isLoading?a("Spinner"):a("div",{attrs:{id:"accordionCategory"}},t._l(t.menu,(function(e){return a("div",{key:e.id,staticClass:"card"},[a("div",{staticClass:"card-header p-0",attrs:{id:"heading"+e.name}},[a("button",{staticClass:"btn btn-link collapsed w-100 py-3",attrs:{"data-toggle":"collapse","data-target":"#collapse"+e.name,"aria-expanded":"true","aria-controls":"collapse"+e.name}},[a("h3",[t._v(t._s(e.name))])])]),a("AccordionMealTable",{attrs:{"initial-dishes":e}})],1)})),0),a("MemberNavbarBottom")],1)},n=[],r=(a("b0c0"),a("96cf"),a("1da1")),s=a("5aa0"),o=a("cd5d"),c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"collapse",attrs:{id:"collapse"+t.initialDishes.name,"aria-labelledby":"heading"+t.initialDishes.name,"data-parent":"#accordionCategory"}},[a("div",{staticClass:"card-body"},[a("div",{attrs:{id:"accordionDish"}},t._l(t.initialDishes.dishes,(function(e){return a("div",{key:e.id,staticClass:"card"},[a("div",{staticClass:"card-header",attrs:{id:"heading"+e.name}},[a("button",{staticClass:"btn btn-link collapsed w-100",staticStyle:{position:"relative","text-align":"left"},attrs:{"data-toggle":"collapse","data-target":"#collapse"+e.name,"aria-expanded":"true","aria-controls":"collapse"+e.name}},[a("h5",{staticClass:"d-inline-block"},[t._v(t._s(e.name))]),a("button",{staticClass:"btn btn-primary ml-auto",staticStyle:{position:"absolute",top:"0",right:"0"},on:{click:function(a){return a.stopPropagation(),a.preventDefault(),t.addOrder(e.id,e.name,e.price)}}},[t._v("加入訂單")])])]),a("div",{staticClass:"collapse",attrs:{id:"collapse"+e.name,"aria-labelledby":"heading"+e.name,"data-parent":"#accordionDish"}},[a("div",{staticClass:"card-body p-0"},[a("img",{staticStyle:{width:"100%",height:"150px"},attrs:{src:e.image}}),a("p",[t._v(" $"+t._s(e.price)+" "),t._l(e.hasTags,(function(e){return a("span",{key:e.id,staticClass:"badge badge-pill badge-primary"},[t._v(t._s(e.name))])}))],2),a("div",[t._v(t._s(e.description))])])])])})),0)])])},l=[],d=(a("7db0"),a("fb6a"),{name:"AccordionMealTable",props:{initialDishes:{type:Object}},data:function(){return{isLoading:!1,isProcessing:!1}},computed:{dishes:function(){return this.initialDishes.slice(0,-1)}},methods:{addOrder:function(t,e,a){var i=this;this.$swal.fire({title:"<h1>請選擇數量</h1>",icon:"info",input:"number",html:"",showCloseButton:!0,showCancelButton:!0,focusConfirm:!1,confirmButtonText:'<i class="fa fa-thumbs-up"></i> 確認',cancelButtonText:'<i class="fa fa-thumbs-down"></i> 返回'}).then((function(n){+n.value>0?(localStorage.getItem("orderList")&&(i.orderList=JSON.parse(localStorage.getItem("orderList"))),i.orderList.find((function(t){return t.name===e}))?i.orderList.find((function(t){return t.name===e})).quantity+=+n.value:i.orderList.push({id:t,name:e,price:a,quantity:+n.value}),localStorage.setItem("orderList",JSON.stringify(i.orderList)),i.$swal({toast:!0,position:"top",showConfirmButton:!1,timer:3e3,icon:"success",title:"成功新增餐點",text:""})):i.$swal({toast:!0,position:"top",showConfirmButton:!1,timer:3e3,icon:"warning",title:"未新增餐點",text:""})}))}},created:function(){}}),u=d,m=a("2877"),p=Object(m["a"])(u,c,l,!1,null,"4f0aa573",null),f=p.exports,h=a("2fa3"),v={get:function(){return h["a"].get("/member/menu")}},b={name:"MemberMeal",components:{Spinner:s["a"],AccordionMealTable:f,MemberNavbarBottom:o["a"]},data:function(){return{menu:[],isLoading:!0}},created:function(){this.fetchDishes()},methods:{fetchDishes:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var e,a,i,n,r,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,v.get();case 3:if(e=t.sent,a=e.data,i=e.statusText,"OK"===i){t.next=7;break}throw new Error(i);case 7:for(n in a.menu)this.menu.push({name:a.menu[n].name,dishes:delete a.menu[n]["name"]?a.menu[n]:[]});for(r in this.menu)for(s in this.menu[r].dishes)this.menu[r].dishes[s].id=s;this.isLoading=!1,t.next=17;break;case 12:t.prev=12,t.t0=t["catch"](0),this.$swal({toast:!0,position:"top",showConfirmButton:!1,timer:3e3,icon:"warning",title:"無法取得餐點",text:""}),this.isLoading=!1,console.log("error",t.t0);case 17:case"end":return t.stop()}}),t,this,[[0,12]])})));function e(){return t.apply(this,arguments)}return e}()}},g=b,y=Object(m["a"])(g,i,n,!1,null,null,null);e["default"]=y.exports},cd5d:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{},[a("div",{staticStyle:{height:"37px"}}),a("div",{staticClass:"fixed-bottom"},[a("div",{staticClass:"collapse",attrs:{id:"navbarToggleExternalContent"}},[a("div",{staticClass:"p-2 text-center",staticStyle:{"border-radius":"50% 50% 0 0","background-color":"#e3f2fd"}},[a("router-link",{staticClass:"d-block py-2 h4",attrs:{to:{name:"member-profile"}}},[t._v("會員設定")]),a("router-link",{staticClass:"d-block py-2 h4",attrs:{to:{name:"member-password"}}},[t._v("密碼設定")]),a("router-link",{staticClass:"d-block py-2 h4",attrs:{to:{name:"member-my-orders"}}},[t._v("訂餐紀錄")]),a("div",{staticClass:"text-primary py-2 h4",on:{click:t.logout}},[t._v("登出")])],1)]),a("nav",{staticClass:"navbar navbar-light d-flex justify-content-around",staticStyle:{"background-color":"#e3f2fd"}},[a("router-link",{attrs:{to:{name:"member-menu"}}},[t._v("菜單")]),a("router-link",{attrs:{to:{name:"member-order-list"}}},[t._v("結帳")]),a("router-link",{attrs:{to:{name:"member-order-state"}}},[t._v("狀態")]),a("p",{staticClass:"text-primary",attrs:{"data-toggle":"collapse","data-target":"#navbarToggleExternalContent","aria-controls":"navbarToggleExternalContent","aria-expanded":"false","aria-label":"Toggle navigation"}},[t._v("會員")])],1)])])},n=[],r={name:"MemberNavbarBottom",data:function(){return{}},created:function(){},methods:{logout:function(){this.$store.commit("revokeAuthentication"),this.$router.push("/signin")}}},s=r,o=a("2877"),c=Object(o["a"])(s,i,n,!1,null,null,null);e["a"]=c.exports},fb6a:function(t,e,a){"use strict";var i=a("23e7"),n=a("861d"),r=a("e8b5"),s=a("23cb"),o=a("50c4"),c=a("fc6a"),l=a("8418"),d=a("b622"),u=a("1dde"),m=a("ae40"),p=u("slice"),f=m("slice",{ACCESSORS:!0,0:0,1:2}),h=d("species"),v=[].slice,b=Math.max;i({target:"Array",proto:!0,forced:!p||!f},{slice:function(t,e){var a,i,d,u=c(this),m=o(u.length),p=s(t,m),f=s(void 0===e?m:e,m);if(r(u)&&(a=u.constructor,"function"!=typeof a||a!==Array&&!r(a.prototype)?n(a)&&(a=a[h],null===a&&(a=void 0)):a=void 0,a===Array||void 0===a))return v.call(u,p,f);for(i=new(void 0===a?Array:a)(b(f-p,0)),d=0;p<f;p++,d++)p in u&&l(i,d,u[p]);return i.length=d,i}})}}]);
//# sourceMappingURL=chunk-772077e4.e3667c79.js.map