(function(e){function n(n){for(var t,c,o=n[0],i=n[1],d=n[2],b=0,s=[];b<o.length;b++)c=o[b],Object.prototype.hasOwnProperty.call(a,c)&&a[c]&&s.push(a[c][0]),a[c]=0;for(t in i)Object.prototype.hasOwnProperty.call(i,t)&&(e[t]=i[t]);h&&h(n);while(s.length)s.shift()();return u.push.apply(u,d||[]),r()}function r(){for(var e,n=0;n<u.length;n++){for(var r=u[n],t=!0,c=1;c<r.length;c++){var o=r[c];0!==a[o]&&(t=!1)}t&&(u.splice(n--,1),e=i(i.s=r[0]))}return e}var t={},c={app:0},a={app:0},u=[];function o(e){return i.p+"js/"+({}[e]||e)+"."+{"chunk-0ae86ab5":"16aa471b","chunk-10e0c590":"85cfbfe3","chunk-474e61a0":"f22c3b07","chunk-34f1ae47":"02b272cf","chunk-b7e6e65a":"da3de0a6","chunk-d6efaee4":"64b062f2","chunk-c5bd1154":"fdccb434","chunk-5eaf3098":"d9efe6c2","chunk-2b6648f3":"4da70b4b","chunk-515207d2":"9ff27a51","chunk-98f9d67e":"660a3c9e","chunk-21361d12":"fed22667","chunk-98a628b4":"a6d3cd31","chunk-b0b071f8":"0b4fbf77","chunk-e63b8d8c":"2171b909","chunk-0e7d6c9a":"0117e3e7","chunk-afcb68a4":"d90e1ba7","chunk-00bdcf9b":"aa7a1d89","chunk-16a8cd40":"1469cebf","chunk-4c66a7bb":"6c453a55","chunk-57bd3c28":"883076d2","chunk-772077e4":"e3667c79","chunk-8d9cb1d2":"c8d4dea8","chunk-01d4787f":"a4a13abb","chunk-c5b58260":"70b06422","chunk-cbc95e88":"889dc2a3","chunk-d682c080":"303bcc11"}[e]+".js"}function i(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.e=function(e){var n=[],r={"chunk-0ae86ab5":1,"chunk-474e61a0":1,"chunk-34f1ae47":1,"chunk-b7e6e65a":1,"chunk-d6efaee4":1,"chunk-5eaf3098":1,"chunk-2b6648f3":1,"chunk-515207d2":1,"chunk-98f9d67e":1,"chunk-21361d12":1,"chunk-98a628b4":1,"chunk-b0b071f8":1,"chunk-0e7d6c9a":1,"chunk-afcb68a4":1,"chunk-00bdcf9b":1,"chunk-16a8cd40":1,"chunk-4c66a7bb":1,"chunk-57bd3c28":1,"chunk-772077e4":1,"chunk-8d9cb1d2":1,"chunk-01d4787f":1,"chunk-c5b58260":1,"chunk-d682c080":1};c[e]?n.push(c[e]):0!==c[e]&&r[e]&&n.push(c[e]=new Promise((function(n,r){for(var t="css/"+({}[e]||e)+"."+{"chunk-0ae86ab5":"ea18d2ea","chunk-10e0c590":"31d6cfe0","chunk-474e61a0":"d23be0db","chunk-34f1ae47":"11d44914","chunk-b7e6e65a":"11d44914","chunk-d6efaee4":"9f01291d","chunk-c5bd1154":"31d6cfe0","chunk-5eaf3098":"7f8579a8","chunk-2b6648f3":"95e5c916","chunk-515207d2":"9b29351b","chunk-98f9d67e":"e356f36d","chunk-21361d12":"bec9c965","chunk-98a628b4":"93eeaa25","chunk-b0b071f8":"5caf3132","chunk-e63b8d8c":"31d6cfe0","chunk-0e7d6c9a":"976dd0e7","chunk-afcb68a4":"2c4d0205","chunk-00bdcf9b":"db4139c0","chunk-16a8cd40":"db4139c0","chunk-4c66a7bb":"953579b7","chunk-57bd3c28":"03d18f7b","chunk-772077e4":"767af1a6","chunk-8d9cb1d2":"72e76f42","chunk-01d4787f":"5380e2a8","chunk-c5b58260":"767af1a6","chunk-cbc95e88":"31d6cfe0","chunk-d682c080":"8616571e"}[e]+".css",a=i.p+t,u=document.getElementsByTagName("link"),o=0;o<u.length;o++){var d=u[o],b=d.getAttribute("data-href")||d.getAttribute("href");if("stylesheet"===d.rel&&(b===t||b===a))return n()}var s=document.getElementsByTagName("style");for(o=0;o<s.length;o++){d=s[o],b=d.getAttribute("data-href");if(b===t||b===a)return n()}var h=document.createElement("link");h.rel="stylesheet",h.type="text/css",h.onload=n,h.onerror=function(n){var t=n&&n.target&&n.target.src||a,u=new Error("Loading CSS chunk "+e+" failed.\n("+t+")");u.code="CSS_CHUNK_LOAD_FAILED",u.request=t,delete c[e],h.parentNode.removeChild(h),r(u)},h.href=a;var f=document.getElementsByTagName("head")[0];f.appendChild(h)})).then((function(){c[e]=0})));var t=a[e];if(0!==t)if(t)n.push(t[2]);else{var u=new Promise((function(n,r){t=a[e]=[n,r]}));n.push(t[2]=u);var d,b=document.createElement("script");b.charset="utf-8",b.timeout=120,i.nc&&b.setAttribute("nonce",i.nc),b.src=o(e);var s=new Error;d=function(n){b.onerror=b.onload=null,clearTimeout(h);var r=a[e];if(0!==r){if(r){var t=n&&("load"===n.type?"missing":n.type),c=n&&n.target&&n.target.src;s.message="Loading chunk "+e+" failed.\n("+t+": "+c+")",s.name="ChunkLoadError",s.type=t,s.request=c,r[1](s)}a[e]=void 0}};var h=setTimeout((function(){d({type:"timeout",target:b})}),12e4);b.onerror=b.onload=d,document.head.appendChild(b)}return Promise.all(n)},i.m=e,i.c=t,i.d=function(e,n,r){i.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:r})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,n){if(1&n&&(e=i(e)),8&n)return e;if(4&n&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var t in e)i.d(r,t,function(n){return e[n]}.bind(null,t));return r},i.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(n,"a",n),n},i.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},i.p="/",i.oe=function(e){throw console.error(e),e};var d=window["webpackJsonp"]=window["webpackJsonp"]||[],b=d.push.bind(d);d.push=n,d=d.slice();for(var s=0;s<d.length;s++)n(d[s]);var h=b;u.push([0,"chunk-vendors"]),r()})({0:function(e,n,r){e.exports=r("56d7")},"02f4":function(e,n,r){"use strict";r("a4d3"),r("4de4"),r("4160"),r("e439"),r("dbb4"),r("b64b"),r("159b");var t=r("ade3"),c=r("2fa3");function a(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.push.apply(r,t)}return r}function u(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?a(Object(r),!0).forEach((function(n){Object(t["a"])(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}n["a"]={signIn:function(e){var n=e.account,r=e.password;return c["a"].post("/signin",{account:n,password:r})},signUp:function(e){return c["a"].post("/signup",u({},e))},changePassword:function(e){return c["a"].post("/password/change",u({},e))},getCurrentUser:function(){return c["a"].get("/user")}}},"12ab":function(e,n,r){},"2fa3":function(e,n,r){"use strict";r.d(n,"a",(function(){return o}));r("d3b7");var t=r("bc3a"),c=r.n(t),a="http://recusplatform.herokuapp.com/api/",u=c.a.create({baseURL:a});u.interceptors.request.use((function(e){var n=localStorage.getItem("token");return n&&(e.headers["Authorization"]="Bearer ".concat(n)),e}),(function(e){return Promise.reject(e)}));var o=u},4360:function(e,n,r){"use strict";r("a4d3"),r("4de4"),r("4160"),r("b0c0"),r("e439"),r("dbb4"),r("b64b"),r("159b"),r("96cf");var t=r("1da1"),c=r("ade3"),a=r("2b0e"),u=r("2f62"),o=r("02f4");function i(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.push.apply(r,t)}return r}function d(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?i(Object(r),!0).forEach((function(n){Object(c["a"])(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}a["a"].use(u["a"]),n["a"]=new u["a"].Store({state:{currentUser:{phone:"",role:"",name:"",avatar:""},isAuthenticated:!1,token:""},mutations:{setCurrentUser:function(e,n){e.currentUser=d({},e.currentUser,{},n),e.token=localStorage.getItem("token"),e.isAuthenticated=!0},revokeAuthentication:function(e){e.currentUser={},e.isAuthenticated=!1,e.token="",localStorage.removeItem("token")}},actions:{fetchCurrentUser:function(){var e=Object(t["a"])(regeneratorRuntime.mark((function e(n){var r,t,c,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=n.commit,e.prev=1,e.next=4,o["a"].getCurrentUser();case 4:if(t=e.sent,c=t.data,a=t.statusText,"OK"===a){e.next=9;break}throw new Error(a);case 9:return r("setCurrentUser",{phone:c.phone,role:c.role,name:c.name,avatar:c.avatar}),e.abrupt("return",!0);case 13:return e.prev=13,e.t0=e["catch"](1),console.error("can not fetch user information"),r("revokeAuthentication"),e.abrupt("return",!1);case 18:case"end":return e.stop()}}),e,null,[[1,13]])})));function n(n){return e.apply(this,arguments)}return n}()},getters:{controlPanelRouteName:function(e){return"Admin"===e.currentUser.role?"admin-order":"member"===e.currentUser.role?"member-myorders":void 0}}})},"56d7":function(e,n,r){"use strict";r.r(n);r("e260"),r("e6cf"),r("cca6"),r("a79d");var t=r("2b0e"),c=function(){var e=this,n=e.$createElement,r=e._self._c||n;return r("div",{attrs:{id:"app"}},[r("router-view")],1)},a=[],u=(r("4989"),r("ab8b"),{name:"App"}),o=u,i=(r("5c0b"),r("2877")),d=Object(i["a"])(o,c,a,!1,null,null,null),b=d.exports,s=(r("caad"),r("b0c0"),r("d3b7"),r("2532"),r("96cf"),r("1da1")),h=r("8c4f"),f=r("4360");t["a"].use(h["a"]);var m={isAdmin:function(e,n,r){var t=f["a"].state.currentUser;t&&"admin"!==t.role?r({name:"sign-in"}):r()},isMember:function(e,n,r){var t=f["a"].state.currentUser;t&&"member"!==t.role?r({name:"sign-in"}):r()}},l=[{path:"/member/orderstate",name:"member-order-state",component:function(){return Promise.all([r.e("chunk-c5bd1154"),r.e("chunk-01d4787f")]).then(r.bind(null,"3a1b"))},beforeEnter:m.isMember},{path:"/member/menu",name:"member-menu",component:function(){return r.e("chunk-772077e4").then(r.bind(null,"acfe"))},beforeEnter:m.isMember},{path:"/member/orderlist",name:"member-order-list",component:function(){return r.e("chunk-cbc95e88").then(r.bind(null,"5887"))},beforeEnter:m.isMember},{path:"/member/profile",name:"member-profile",component:function(){return Promise.all([r.e("chunk-10e0c590"),r.e("chunk-c5bd1154"),r.e("chunk-e63b8d8c"),r.e("chunk-0e7d6c9a")]).then(r.bind(null,"b410"))},beforeEnter:m.isMember},{path:"/member/myorders",name:"member-my-orders",component:function(){return Promise.all([r.e("chunk-c5bd1154"),r.e("chunk-c5b58260")]).then(r.bind(null,"9db4"))},beforeEnter:m.isMember},{path:"/member/password",name:"member-password",component:function(){return r.e("chunk-d682c080").then(r.bind(null,"c1ba"))},beforeEnter:m.isMember},{path:"/",name:"root",redirect:"/signin"},{path:"/signin",name:"sign-in",component:function(){return r.e("chunk-57bd3c28").then(r.bind(null,"54e2"))}},{path:"/signup",name:"sign-up",component:function(){return r.e("chunk-0ae86ab5").then(r.bind(null,"5c9c"))}},{path:"/admin/order",name:"admin-order",component:function(){return Promise.all([r.e("chunk-10e0c590"),r.e("chunk-c5bd1154"),r.e("chunk-474e61a0"),r.e("chunk-98f9d67e"),r.e("chunk-98a628b4")]).then(r.bind(null,"0750"))},beforeEnter:m.isAdmin},{path:"/admin/manage/members",name:"admin-manage-members",component:function(){return Promise.all([r.e("chunk-10e0c590"),r.e("chunk-c5bd1154"),r.e("chunk-474e61a0"),r.e("chunk-98f9d67e"),r.e("chunk-21361d12")]).then(r.bind(null,"f3f4"))},beforeEnter:m.isAdmin},{path:"/admin/dayorders",name:"admin-day-orders",component:function(){return Promise.all([r.e("chunk-10e0c590"),r.e("chunk-c5bd1154"),r.e("chunk-474e61a0"),r.e("chunk-b0b071f8")]).then(r.bind(null,"e213"))},beforeEnter:m.isAdmin},{path:"/admin/manage/meal",name:"admin-manage-meal",component:function(){return Promise.all([r.e("chunk-10e0c590"),r.e("chunk-474e61a0"),r.e("chunk-d6efaee4")]).then(r.bind(null,"4d4a"))},beforeEnter:m.isAdmin},{path:"/admin/manage/categories",name:"admin-manage-categories",component:function(){return Promise.all([r.e("chunk-10e0c590"),r.e("chunk-474e61a0"),r.e("chunk-b7e6e65a")]).then(r.bind(null,"684c"))},beforeEnter:m.isAdmin},{path:"/admin/manage/tages",name:"admin-manage-tages",component:function(){return Promise.all([r.e("chunk-10e0c590"),r.e("chunk-474e61a0"),r.e("chunk-34f1ae47")]).then(r.bind(null,"03dc"))},beforeEnter:m.isAdmin},{path:"/admin/dish/:id/edit",name:"admin-dish-edit",component:function(){return Promise.all([r.e("chunk-10e0c590"),r.e("chunk-e63b8d8c"),r.e("chunk-16a8cd40")]).then(r.bind(null,"bbab"))},beforeEnter:m.isAdmin},{path:"/admin/dish/new",name:"admin-dish-new",component:function(){return Promise.all([r.e("chunk-10e0c590"),r.e("chunk-e63b8d8c"),r.e("chunk-00bdcf9b")]).then(r.bind(null,"bf91"))},beforeEnter:m.isAdmin},{path:"/admin/manage/dashboard/lineChart",name:"admin-dashboard-lineChart",component:function(){return Promise.all([r.e("chunk-10e0c590"),r.e("chunk-c5bd1154"),r.e("chunk-474e61a0"),r.e("chunk-5eaf3098"),r.e("chunk-2b6648f3")]).then(r.bind(null,"1a23"))},beforeEnter:m.isAdmin},{path:"/admin/manage/dashboard/pieChart",name:"admin-dashboard-pieChart",component:function(){return Promise.all([r.e("chunk-10e0c590"),r.e("chunk-c5bd1154"),r.e("chunk-474e61a0"),r.e("chunk-5eaf3098"),r.e("chunk-515207d2")]).then(r.bind(null,"a708"))},beforeEnter:m.isAdmin},{path:"/admin/profile/edit",name:"admin-profile",component:function(){return Promise.all([r.e("chunk-10e0c590"),r.e("chunk-c5bd1154"),r.e("chunk-e63b8d8c"),r.e("chunk-afcb68a4")]).then(r.bind(null,"fb30"))},beforeEnter:m.isAdmin},{path:"/admin/password",name:"admin-password",component:function(){return r.e("chunk-4c66a7bb").then(r.bind(null,"6e3e"))},beforeEnter:m.isAdmin},{path:"*",name:"not-found",component:function(){return r.e("chunk-8d9cb1d2").then(r.bind(null,"9703"))}}],p=new h["a"]({linkExactActiveClass:"active",mode:"history",routes:l});p.beforeEach(function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(n,r,t){var c,a,u,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(c=localStorage.getItem("token"),a=f["a"].state.token,u=f["a"].state.isAuthenticated,!c||c===a){e.next=7;break}return e.next=6,f["a"].dispatch("fetchCurrentUser");case 6:u=e.sent;case 7:if(o=["sign-in","sign-up"],!o.includes(n.name)){e.next=11;break}return t(),e.abrupt("return");case 11:if(u||"sign-in"===n.name){e.next=14;break}return t("/signin"),e.abrupt("return");case 14:if(!u||"admin"!==f["a"].state.currentUser.role||"sign-in"!==n.name){e.next=17;break}return t("/admin/order"),e.abrupt("return");case 17:if(!u||"member"!==f["a"].state.currentUser.role||"sign-in"!==n.name){e.next=20;break}return t("/member/menu"),e.abrupt("return");case 20:t();case 21:case"end":return e.stop()}}),e)})));return function(n,r,t){return e.apply(this,arguments)}}());var k=p,g=(r("12ab"),r("5886")),v=(r("4413"),r("3f9b")),y=r("1dce"),O=r.n(y);t["a"].use(O.a),t["a"].use(v["a"]),t["a"].use(g["a"]),t["a"].config.productionTip=!1,new t["a"]({router:k,VueSweetalert2:g["a"],VueMasonryPlugin:v["a"],store:f["a"],render:function(e){return e(b)}}).$mount("#app")},"5c0b":function(e,n,r){"use strict";var t=r("9c0c"),c=r.n(t);c.a},"9c0c":function(e,n,r){}});
//# sourceMappingURL=app.5f18c1ca.js.map