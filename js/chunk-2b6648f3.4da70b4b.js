(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2b6648f3"],{"1a23":function(t,e,a){"use strict";a.r(e);var r,n,i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("AdminNavbarTop",{attrs:{"initial-title":t.title}}),t.isLoading?a("Spinner"):a("div",{staticClass:"dash-board"},[a("div",{staticClass:"border-bottom"},[a("button",{staticClass:"btn btn-outline-primary ml-2",attrs:{type:"button",disabled:t.isProcessing},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.fetchDashboard({range:"monthly"})}}},[t._v("前七天")]),a("button",{staticClass:"btn btn-outline-primary m-2",attrs:{type:"button",disabled:t.isProcessing},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.fetchDashboard({range:"weekly"})}}},[t._v("前一個月")]),a("router-link",{staticClass:"btn btn-outline-primary m-2",attrs:{to:{name:"admin-dashboard-pieChart"}}},[t._v("圓餅圖")])],1),a("div",{staticClass:"row justify-content-around"},[a("div",{staticClass:"col-4 border border-secondary rounded shadow-lg"},[a("h3",{staticClass:"text-center mt-2"},[t._v("HotProducts")]),a("AreaChart",{staticClass:"my-3",attrs:{"initial-data":t.lineChartProducts}}),a("AdminDashBoardTable",{attrs:{"initial-category":t.hotProducts}})],1),a("div",{staticClass:"col-4 border border-secondary rounded shadow-lg"},[a("h3",{staticClass:"text-center mt-2"},[t._v("HotTags")]),a("AreaChart",{staticClass:"my-3",attrs:{"initial-data":t.lineChartTags}}),a("AdminDashBoardTable",{attrs:{"initial-category":t.hotTags}})],1),a("div",{staticClass:"col-4 border border-secondary rounded shadow-lg"},[a("h3",{staticClass:"text-center mt-2"},[t._v("HotMembers")]),a("AreaChart",{staticClass:"my-3",attrs:{"initial-data":t.lineChartMembers}}),a("AdminDashBoardTable",{attrs:{"initial-category":t.hotMembers}})],1)])]),a("AdminNavbarBottm")],1)},o=[],s=(a("d81d"),a("96cf"),a("1da1")),c=a("a2fe"),d=a("34f8"),l=a("2909"),h=a("1fca"),u={name:"AreaChart",props:{initialData:{type:Array,default:function(){return[{count:[0,0,0,0,0,0,0],range:["1","2","3","4","5","6","7"],title:"A"},{count:[0,0,0,0,0,0,0],range:["1","2","3","4","5","6","7"],title:"B"},{count:[0,0,0,0,0,0,0],range:["1","2","3","4","5","6","7"],title:"C"},{count:[0,0,0,0,0,0,0],range:["1","2","3","4","5","6","7"],title:"D"},{count:[0,0,0,0,0,0,0],range:["1","2","3","4","5","6","7"],title:"E"}]}}},extends:h["a"],mounted:function(){this.gradient=this.$refs.canvas.getContext("2d").createLinearGradient(0,0,0,450),this.gradient2=this.$refs.canvas.getContext("2d").createLinearGradient(0,0,0,450),this.gradient3=this.$refs.canvas.getContext("2d").createLinearGradient(0,0,0,450),this.gradient4=this.$refs.canvas.getContext("2d").createLinearGradient(0,0,0,450),this.gradient5=this.$refs.canvas.getContext("2d").createLinearGradient(0,0,0,450),this.gradient.addColorStop(0,"rgba(255, 0,0, 0.9)"),this.gradient.addColorStop(.5,"rgba(255, 0, 0, 0.45)"),this.gradient.addColorStop(1,"rgba(255, 0, 0, 0)"),this.gradient2.addColorStop(0,"rgba(255, 150, 0, 0.9)"),this.gradient2.addColorStop(.5,"rgba(255, 150, 0, 0.9)"),this.gradient2.addColorStop(1,"rgba(255, 150, 0, 0)"),this.gradient3.addColorStop(0,"rgba(160, 255,100, 0.9)"),this.gradient3.addColorStop(.5,"rgba(160, 255, 100, 0.9)"),this.gradient3.addColorStop(1,"rgba(160, 255, 100, 0)"),this.gradient4.addColorStop(0,"rgba(30, 135, 200, 0.9)"),this.gradient4.addColorStop(.5,"rgba(30, 135, 200, 0.9)"),this.gradient4.addColorStop(1,"rgba(30, 135, 200, 0)"),this.gradient5.addColorStop(0,"rgba(120, 45, 170, 0.9)"),this.gradient5.addColorStop(.5,"rgba(120, 45, 170, 0.45)"),this.gradient5.addColorStop(1,"rgba(120, 45, 170, 0)"),this.renderChart({labels:Object(l["a"])(this.initialData[0].range),datasets:[{label:this.initialData[0].title,borderColor:"#FC2525",pointBackgroundColor:"white",borderWidth:1,pointBorderColor:"white",backgroundColor:this.gradient,data:Object(l["a"])(this.initialData[0].count)},{label:this.initialData[1].title,borderColor:"#05CBE1",pointBackgroundColor:"white",pointBorderColor:"white",borderWidth:1,backgroundColor:this.gradient2,data:Object(l["a"])(this.initialData[1].count)},{label:this.initialData[2].title,borderColor:"#FC2525",pointBackgroundColor:"white",borderWidth:1,pointBorderColor:"white",backgroundColor:this.gradient3,data:Object(l["a"])(this.initialData[2].count)},{label:this.initialData[3].title,borderColor:"#05CBE1",pointBackgroundColor:"white",pointBorderColor:"white",borderWidth:1,backgroundColor:this.gradient4,data:Object(l["a"])(this.initialData[3].count)},{label:this.initialData[4].title,borderColor:"#05CBE1",pointBackgroundColor:"white",pointBorderColor:"white",borderWidth:1,backgroundColor:this.gradient5,data:Object(l["a"])(this.initialData[4].count)}]},{responsive:!0,maintainAspectRatio:!1})}},g=u,b=a("2877"),p=Object(b["a"])(g,r,n,!1,null,null,null),C=p.exports,m=a("bc9c"),f=a("5aa0"),v=a("7189"),w=a("8055"),y=a.n(w),k={name:"AdminDashBoardLineChart",components:{AdminNavbarTop:c["a"],AdminNavbarBottm:d["a"],AreaChart:C,AdminDashBoardTable:m["a"],Spinner:f["a"]},data:function(){return{state:"",title:"儀錶板",lineChartProducts:[{count:[0,0,0,0,0,0,0],range:["1","2","3","4","5","6","7"],title:"A"},{count:[0,0,0,0,0,0,0],range:["1","2","3","4","5","6","7"],title:"B"},{count:[0,0,0,0,0,0,0],range:["1","2","3","4","5","6","7"],title:"C"},{count:[0,0,0,0,0,0,0],range:["1","2","3","4","5","6","7"],title:"D"},{count:[0,0,0,0,0,0,0],range:["1","2","3","4","5","6","7"],title:"E"}],lineChartTags:[{count:[0,0,0,0,0,0,0],range:["1","2","3","4","5","6","7"],title:"A"},{count:[0,0,0,0,0,0,0],range:["1","2","3","4","5","6","7"],title:"B"},{count:[0,0,0,0,0,0,0],range:["1","2","3","4","5","6","7"],title:"C"},{count:[0,0,0,0,0,0,0],range:["1","2","3","4","5","6","7"],title:"D"},{count:[0,0,0,0,0,0,0],range:["1","2","3","4","5","6","7"],title:"E"}],lineChartMembers:[{count:[0,0,0,0,0,0,0],range:["1","2","3","4","5","6","7"],title:"雷鴻濤"},{count:[0,0,0,0,0,0,0],range:["1","2","3","4","5","6","7"],title:"雷炫明"},{count:[0,0,0,0,0,0,0],range:["1","2","3","4","5","6","7"],title:"於浩然"},{count:[0,0,0,0,0,0,0],range:["1","2","3","4","5","6","7"],title:"秦文昊"},{count:[0,0,0,0,0,0,0],range:["1","2","3","4","5","6","7"],title:"石哲瀚"}],hotProducts:[],hotTags:[],hotMembers:[],isLoading:!0,isProcessing:!1,socket:y()("https://recusplatform.herokuapp.com/")}},created:function(){this.socket.emit("init");var t=this.$route.query.range,e=void 0===t?"weekly":t;this.fetchDashboard({range:e})},beforeRouteUpdate:function(t,e,a){var r=t.query.range,n=void 0===r?"weekly":r;this.fetchDashboard({range:n}),a()},methods:{fetchDashboard:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(e){var a,r,n,i,o,s,c,d,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,this.isLoading=!0,this.hotProducts=[],this.hotTags=[],this.hotMembers=[],a=[],r=[],n=[],t.next=10,v["a"].getPieChart(e);case 10:if(i=t.sent,o=i.data,s=i.statusText,"OK"===s){t.next=14;break}throw new Error(s);case 14:for(c in o.hotProducts)this.hotProducts.push(o.hotProducts[c]);for(d in o.hotTags)this.hotTags.push(o.hotTags[d]);for(l in o.hotMembers)this.hotMembers.push(o.hotMembers[l]);this.hotProducts.map((function(t,e){return t.indexId=e+1})),this.hotTags.map((function(t,e){return t.indexId=e+1})),this.hotMembers.map((function(t,e){return t.indexId=e+1})),this.hotProducts.map((function(t){return a.push(t.id)})),this.hotTags.map((function(t){return r.push(t.id)})),this.hotMembers.map((function(t){return n.push(t.id)})),this.afterFetchData(a,"product",e.range),this.afterFetchData(r,"tag",e.range),this.afterFetchData(n,"user",e.range),this.isLoading=!1,t.next=34;break;case 29:t.prev=29,t.t0=t["catch"](0),this.isLoading=!1,this.$swal({icon:"warning",title:"無法取得資料，請稍後再試"}),console.log("error",t.t0);case 34:case"end":return t.stop()}}),t,this,[[0,29]])})));function e(e){return t.apply(this,arguments)}return e}(),afterFetchData:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(e,a,r){var n,i,o,s,c,d,l,h;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.isProcessing=!0,t.prev=1,t.next=4,v["a"].getLineChart({ids:e,type:a,range:r});case 4:if(n=t.sent,n.data,i=n.statusText,"OK"===i){t.next=8;break}throw new Error(i);case 8:o=[{count:["20","11","18","14","10","5","1"],range:["01-20","01-21","01-22","01-23","01-24","01-25","01-26"],title:"燕麥奶拿鐵"},{count:["17","10","7","11","4","0","10"],range:["17","10","7","11","4","0","10"],title:"燕麥奶焦糖瑪奇朵"},{count:["11","14","13","10","20","14","10"],range:["11","14","13","10","20","14","10"],title:"黑框美式"},{count:["12","11","17","17","14","21","16"],range:["12","11","17","17","14","21","16"],title:"玫瑰水果茶"},{count:["12","30","22","19","24","21","22"],range:["12","30","22","19","24","21","22"],title:"莊園冰低咖啡"}],s=[{count:["1","3","2","0","1","1","1"],range:["01-20","01-21","01-22","01-23","01-24","01-25","01-26"],title:"衣索比亞"},{count:["2","0","2","1","2","0","1"],range:["01-20","01-21","01-22","01-23","01-24","01-25","01-26"],title:"深焙"},{count:["0","2","1","1","0","0","1"],range:["01-20","01-21","01-22","01-23","01-24","01-25","01-26"],title:"淺焙"},{count:["1","0","0","0","1","0","0"],range:["1","0","0","0","1","0","0"],title:"新品"},{count:["1","3","0","1","0","1","2"],range:["1","3","0","1","0","1","2"],title:"肯亞"}],c=[{count:["2","1","0","0","1","1","1"],range:["01-20","01-21","01-22","01-23","01-24","01-25","01-26"],title:"雷鴻濤"},{count:["1","0","1","1","0","1","1"],range:["01-20","01-21","01-22","01-23","01-24","01-25","01-26"],title:"雷炫明"},{count:["0","2","1","1","0","0","1"],range:["01-20","01-21","01-22","01-23","01-24","01-25","01-26"],title:"於浩然"},{count:["1","0","0","0","1","0","0"],range:["01-20","01-21","01-22","01-23","01-24","01-25","01-26"],title:"秦文昊"},{count:["1","3","0","0","0","1","2"],range:["01-20","01-21","01-22","01-23","01-24","01-25","01-26"],title:"石哲瀚"}],d=[{count:["80","71","88","62"],range:["01-06","01-13","01-20","01-27"],title:"燕麥奶拿鐵"},{count:["73","82","71","81"],range:["01-06","01-13","01-20","01-27"],title:"燕麥奶焦糖瑪奇朵"},{count:["50","54","66","62"],range:["01-06","01-13","01-20","01-27"],title:"黑框美式"},{count:["55","66","68","62"],range:["01-06","01-13","01-20","01-27"],title:"玫瑰水果茶"},{count:["62","64","55","58"],range:["01-06","01-13","01-20","01-27"],title:"莊園冰低咖啡"}],l=[{count:["7","5","4","0"],range:["01-06","01-13","01-20","01-27"],title:"衣索比亞"},{count:["2","0","4","1"],range:["01-06","01-13","01-20","01-27"],title:"深焙"},{count:["3","3","4","2"],range:["01-06","01-13","01-20","01-27"],title:"淺焙"},{count:["3","10","14","18"],range:["01-06","01-13","01-20","01-27"],title:"新品"},{count:["3","8","4","8"],range:["01-06","01-13","01-20","01-27"],title:"肯亞"}],h=[{count:["3","5","4","2","0","0","2"],range:["01-06","01-13","01-20","01-27"],title:"雷鴻濤"},{count:["1","0","3","3","2","0","1"],range:["01-06","01-13","01-20","01-27"],title:"雷炫明"},{count:["2","2","3","1","2","1","1"],range:["01-06","01-13","01-20","01-27"],title:"於浩然"},{count:["1","1","2","3","0","0","1"],range:["01-06","01-13","01-20","01-27"],title:"秦文昊"},{count:["1","1","3","1","2","2","1"],range:["01-06","01-13","01-20","01-27"],title:"石哲瀚"}],"product"===a&&"monthly"===r&&(this.lineChartProducts=o),"tag"===a&&"monthly"===r&&(this.lineChartTags=s),"user"===a&&"monthly"===r&&(this.lineChartMembers=c),"product"===a&&"weekly"===r&&(this.lineChartProducts=d),"tag"===a&&"weekly"===r&&(this.lineChartTags=l),"user"===a&&"weekly"===r&&(this.lineChartMembers=h),this.isProcessing=!1,t.next=28;break;case 23:t.prev=23,t.t0=t["catch"](1),this.$swal({icon:"warning",title:"無法取得資料，請稍後再試"}),this.isProcessing=!1,console.log("error",t.t0);case 28:case"end":return t.stop()}}),t,this,[[1,23]])})));function e(e,a,r){return t.apply(this,arguments)}return e}()}},D=k,x=(a("d51b"),Object(b["a"])(D,i,o,!1,null,"35064066",null));e["default"]=x.exports},"99eb":function(t,e,a){},d51b:function(t,e,a){"use strict";var r=a("99eb"),n=a.n(r);n.a}}]);
//# sourceMappingURL=chunk-2b6648f3.4da70b4b.js.map