{"version":3,"sources":["webpack:///./src/views/admin/AdminOrder.vue?4c02","webpack:///./src/components/Table/AdminOrderMealTable.vue?bc94","webpack:///src/components/Table/AdminOrderMealTable.vue","webpack:///./src/components/Table/AdminOrderMealTable.vue?89c2","webpack:///./src/components/Table/AdminOrderMealTable.vue","webpack:///./src/components/Table/AdminOrderListTable.vue?c616","webpack:///src/components/Table/AdminOrderListTable.vue","webpack:///./src/components/Table/AdminOrderListTable.vue?d8cf","webpack:///./src/components/Table/AdminOrderListTable.vue","webpack:///src/views/admin/AdminOrder.vue","webpack:///./src/views/admin/AdminOrder.vue?9a4c","webpack:///./src/views/admin/AdminOrder.vue","webpack:///./src/views/admin/AdminOrder.vue?7b8c","webpack:///./src/apis/admin/category.js","webpack:///./src/components/Table/AdminOrderListTable.vue?1481","webpack:///./src/apis/admin/dish.js","webpack:///./src/components/Table/AdminOrderMealTable.vue?07e8"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","title","staticClass","staticStyle","_v","directives","name","rawName","value","expression","_s","userName","domProps","on","$event","target","composing","userPhone","searchingUser","trim","stopPropagation","preventDefault","searchUser","createUser","categories","dishes","afterAddToOrder","addDishes","afterDeleteDish","aftersubmitorder","editUserBtn","user","orders","editUser","createMember","afterFormEditCancel","afterAddUser","closeResult","staticRenderFns","length","_l","category","key","id","query","categoryId","_e","dish","addToList","price","showInfo","description","props","initialCategories","type","Array","initialDishes","data","dishId","isProcessing","methods","$swal","dishName","text","created","watch","component","quantity","handleDeleteButtonClick","PK","memo","tableNumber","takingAway","tableNum","isTakingAway","submitOrder","amount","dishesData","$emit","dishPK","components","AdminNavbarTop","AdminNavbarBottm","AdminOrderMealTable","AdminOrderListTable","AdminMemberForm","Spinner","list","searchResultShow","isLoading","socket","emit","fetchDishes","fetchCategories","beforeRouteUpdate","next","filter","unshift","Profile","avatar","email","account","password","phone","role","get","apiHelper","post","put","delete","TagId","searchParams","URLSearchParams","toString","formData"],"mappings":"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","file":"js/chunk-98a628b4.a6d3cd31.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('AdminNavbarTop',{attrs:{\"initial-title\":_vm.title}}),(_vm.isLoading)?_c('Spinner'):[_c('div',{staticClass:\"row\",staticStyle:{\"height\":\"100%\"}},[_c('div',{staticClass:\"col-8 border border-dark border-right-0 border-top-0 p-0\",staticStyle:{\"height\":\"calc(100vh - 100px)\"}},[_c('div',[_c('div',{staticClass:\"container row mt-2\"},[_c('div',{staticClass:\"col-auto mr-auto px-0\"},[_c('button',{staticClass:\"d-none\"},[_vm._v(\"推薦區\")]),_c('button',{staticClass:\"d-none\"},[_vm._v(\"菜單區\")])]),_c('div',[_c('p',{directives:[{name:\"show\",rawName:\"v-show\",value:(this.userName),expression:\"this.userName\"}],staticClass:\"d-inline-block text-capitalize mb-0 mr-2\"},[_vm._v(_vm._s(this.userName))]),_c('form',{staticClass:\"form-inline my-2 my-lg-0 d-inline-block\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.userPhone),expression:\"userPhone\"}],staticClass:\"form-control\",staticStyle:{\"width\":\"115px\"},attrs:{\"type\":\"text\",\"placeholder\":\"09XXXXXXXX\"},domProps:{\"value\":(_vm.userPhone)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.userPhone=$event.target.value}}}),_c('button',{staticClass:\"btn btn-outline-success mx-2\",attrs:{\"type\":\"submit\",\"disabled\":_vm.searchingUser || _vm.userPhone.trim() === \"\"},on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.searchUser($event)}}},[_vm._v(\"搜尋會員\")]),_c('button',{staticClass:\"btn btn-outline-success\",attrs:{\"type\":\"submit\"},on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.createUser($event)}}},[_vm._v(\"快速註冊會員\")])])])]),_c('AdminOrderMealTable',{attrs:{\"initial-categories\":_vm.categories,\"initial-dishes\":_vm.dishes},on:{\"after-add-to-order\":_vm.afterAddToOrder}})],1)]),_c('div',{staticClass:\"col-4 border border-dark border-top-0 p-0\",staticStyle:{\"height\":\"calc(100vh - 100px)\"}},[_c('AdminOrderListTable',{attrs:{\"add-dishes\":_vm.addDishes},on:{\"after-delete-dish\":_vm.afterDeleteDish,\"after-submit-order\":_vm.aftersubmitorder}})],1)])],_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.searchResultShow),expression:\"searchResultShow\"}],staticClass:\"searchResult\"},[_c('div',{staticClass:\"modal-dialog modal-lg\"},[_c('div',{staticClass:\"modal-content\"},[_c('div',{staticClass:\"modal-header\"},[_c('h5',{staticClass:\"modal-title\",attrs:{\"id\":\"exampleModalLabel\"}},[_vm._v(\"會員資料\")]),_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(false),expression:\"false\"}],staticClass:\"btn btn-primary\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.editUserBtn($event)}}},[_vm._v(\"編輯\")])]),_c('div',{staticClass:\"modal-body\"},[_c('AdminMemberForm',{attrs:{\"initial-user\":_vm.user,\"initial-orders\":_vm.orders,\"initial-edit-user\":_vm.editUser,\"initial-create-member\":_vm.createMember},on:{\"after-form-edit-cancel\":_vm.afterFormEditCancel}})],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!this.editUser),expression:\"!this.editUser\"}],staticClass:\"modal-footer\"},[_c('button',{staticClass:\"btn btn-primary\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.afterAddUser($event)}}},[_vm._v(\"加入\")]),_c('button',{staticClass:\"btn btn-primary\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.closeResult($event)}}},[_vm._v(\"關閉\")])])])])]),_c('AdminNavbarBottm')],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[(_vm.categories.length===0)?_c('h4',{staticClass:\"my-2\"},[_vm._v(\"新增一些分類吧!\")]):_c('ul',{staticClass:\"nav nav-pills my-2\"},_vm._l((_vm.categories),function(category){return _c('li',{key:category.id,staticClass:\"nav-item\"},[_c('router-link',{staticClass:\"nav-link\",attrs:{\"to\":{ name: 'admin-order', query: { categoryId: category.id } }}},[_vm._v(_vm._s(category.name))])],1)}),0),_c('div',{staticClass:\"border border-dark meal overflow-auto shadow-lg rounded-lg\"},[(!_vm.dishes.length > 0)?_c('h1',{staticClass:\"box-center\"},[_vm._v(\"新增一些餐點吧!\")]):_vm._e(),_c('div',{staticClass:\"card-columns\"},_vm._l((_vm.dishes),function(dish){return _c('div',{key:dish.id,staticClass:\"card dish border border-dark shadow-lg\",on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.addToList(dish.id,dish.name,dish.price)}}},[_c('h5',{staticClass:\"dishName\"},[_vm._v(_vm._s(dish.name))]),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-auto mr-auto px-0\"},[_c('span',[_vm._v(\"價格：\"+_vm._s(dish.price))])]),_c('button',{staticClass:\"btn btn-primary\",on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.showInfo(dish.name,dish.description)}}},[_vm._v(\"說明\")])])])}),0)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"container\">\r\n    <h4 class=\"my-2\" v-if=\"categories.length===0\">新增一些分類吧!</h4>\r\n    <ul v-else class=\"nav nav-pills my-2\">\r\n      <li v-for=\"category in categories\" :key=\"category.id\" class=\"nav-item\">\r\n        <router-link\r\n          class=\"nav-link\"\r\n          :to=\"{ name: 'admin-order', query: { categoryId: category.id } }\"\r\n        >{{ category.name }}</router-link>\r\n      </li>\r\n    </ul>\r\n    <div class=\"border border-dark meal overflow-auto shadow-lg rounded-lg\">\r\n      <h1 v-if=\"!dishes.length > 0\" class=\"box-center\">新增一些餐點吧!</h1>\r\n      <div class=\"card-columns\">\r\n        <div\r\n          v-for=\"dish in dishes\"\r\n          :key=\"dish.id\"\r\n          @click.stop.prevent=\"addToList(dish.id,dish.name,dish.price)\"\r\n          class=\"card dish border border-dark shadow-lg\"\r\n        >\r\n          <h5 class=\"dishName\">{{ dish.name }}</h5>\r\n          <div class=\"row\">\r\n            <div class=\"col-auto mr-auto px-0\">\r\n              <span>價格：{{ dish.price }}</span>\r\n            </div>\r\n            <button\r\n              class=\"btn btn-primary\"\r\n              @click.stop.prevent=\"showInfo(dish.name,dish.description)\"\r\n            >說明</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport mainUserAPI from \"../../apis/admin/user\";\r\n\r\nexport default {\r\n  name: \"AdminOrderMealTable\",\r\n  props: {\r\n    initialCategories: {\r\n      type: Array\r\n    },\r\n    initialDishes: {\r\n      type: Array\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      userPhone: \"\",\r\n      userName: \"\",\r\n      dishId: 0,\r\n      isProcessing: false,\r\n      categories: this.initialCategories,\r\n      dishes: this.initialDishes\r\n    };\r\n  },\r\n  methods: {\r\n    async searchUser() {\r\n      try {\r\n        this.processing = true;\r\n        const response = await mainUserAPI.user.get({ phone: this.userPhone });\r\n        const { data, statusText } = response;\r\n        if (statusText !== \"OK\") {\r\n          throw new Error(statusText);\r\n        }\r\n        if (data.name === undefined) {\r\n          this.$swal({\r\n            toast: true,\r\n            position: \"top\",\r\n            showConfirmButton: false,\r\n            timer: 3000,\r\n            icon: \"warning\",\r\n            title: \"未找到會員\",\r\n            text: \"\"\r\n          });\r\n        } else {\r\n          this.$emit(\"after-add-user\", {\r\n            name: data.phone\r\n          });\r\n          this.userName = data.name;\r\n          this.isProcessing = false;\r\n        }\r\n      } catch (error) {\r\n        this.isProcessing = false;\r\n        // eslint-disable-next-line\r\n        console.log(\"error\", error);\r\n      }\r\n    },\r\n    addToList(dishId, dishName, dishPrice) {\r\n      this.$swal\r\n        .fire({\r\n          title: \"<h1>請選擇數量</h1>\",\r\n          icon: \"info\",\r\n          input: \"number\",\r\n          html: \"\",\r\n          showCloseButton: true,\r\n          showCancelButton: true,\r\n          focusConfirm: false,\r\n          confirmButtonText: '<i class=\"fa fa-thumbs-up\"></i> 確認',\r\n          cancelButtonText: '<i class=\"fa fa-thumbs-down\"></i> 返回'\r\n        })\r\n        .then(result => {\r\n          if (+result.value > 0) {\r\n            this.$emit(\"after-add-to-order\", {\r\n              id: dishId,\r\n              name: dishName,\r\n              price: dishPrice,\r\n              quantity: +result.value\r\n            });\r\n            this.$swal({\r\n              toast: true,\r\n              position: \"top\",\r\n              showConfirmButton: false,\r\n              timer: 3000,\r\n              icon: \"success\",\r\n              title: \"成功新增餐點\",\r\n              text: \"\"\r\n            });\r\n          } else {\r\n            this.$swal({\r\n              toast: true,\r\n              position: \"top\",\r\n              showConfirmButton: false,\r\n              timer: 3000,\r\n              icon: \"warning\",\r\n              title: \"未新增餐點\",\r\n              text: \"\"\r\n            });\r\n          }\r\n        });\r\n    },\r\n    showInfo(dishName, description) {\r\n      this.$swal({\r\n        title: dishName,\r\n        text: description\r\n      });\r\n    }\r\n  },\r\n  created() {},\r\n  watch: {\r\n    initialDishes(dishes) {\r\n      this.dishes = [];\r\n      this.dishes = [...this.dishes, ...dishes];\r\n    },\r\n    initialCategories(categories) {\r\n      this.categories = {};\r\n      this.categories = {\r\n        ...this.categories,\r\n        ...categories\r\n      };\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.box-center {\r\n  height: 100%;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n}\r\n.card-columns {\r\n  column-count: auto;\r\n}\r\n.card-columns .card {\r\n  display: inline-block;\r\n  width: 33.333332%;\r\n  margin-bottom: 0;\r\n}\r\n.meal {\r\n  height: calc(100vh - 210px);\r\n  overflow: auto;\r\n}\r\n.dish {\r\n  padding: 10px;\r\n}\r\n.dishName {\r\n  margin-bottom: 15px;\r\n}\r\n.dish span {\r\n  vertical-align: -webkit-baseline-middle;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdminOrderMealTable.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdminOrderMealTable.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AdminOrderMealTable.vue?vue&type=template&id=4e5558b9&scoped=true&\"\nimport script from \"./AdminOrderMealTable.vue?vue&type=script&lang=js&\"\nexport * from \"./AdminOrderMealTable.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AdminOrderMealTable.vue?vue&type=style&index=0&id=4e5558b9&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4e5558b9\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"row my-2\"},[_c('h5',{staticClass:\"col-auto mr-auto px-0\"},[_vm._v(\"總數：\"+_vm._s(this.addDishes.quantity)+\"件\")]),_c('h5',[_vm._v(\"清單\")])]),_c('div',{staticClass:\"border border-dark list rounded-lg\"},_vm._l((this.addDishes.list),function(dish){return _c('div',{key:dish.id,staticClass:\"dish border border-dark rounded-lg\"},[_c('h5',{staticClass:\"mb-1\"},[_vm._v(_vm._s(dish.name))]),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-auto mr-auto px-0\"},[_c('span',[_vm._v(\"數量：\"+_vm._s(dish.quantity))])]),_c('button',{staticClass:\"btn btn-primary\",on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.handleDeleteButtonClick(dish.PK,dish.quantity,dish.price)}}},[_vm._v(\"刪除\")])])])}),0),_c('h5',{staticClass:\"my-2\"},[_vm._v(\"備註\")]),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.memo),expression:\"memo\"}],staticClass:\"w-100\",attrs:{\"name\":\"memo\",\"id\":\"\",\"rows\":\"3\"},domProps:{\"value\":(_vm.memo)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.memo=$event.target.value}}}),_c('div',{staticClass:\"row my-2\"},[_c('button',{staticClass:\"btn btn-primary col py-2\",on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.tableNumber($event)}}},[_vm._v(\"內用\")]),_c('button',{staticClass:\"btn btn-primary col py-2\",on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.takingAway($event)}}},[_vm._v(\"外帶\")]),_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(this.tableNum>0 || this.isTakingAway>0),expression:\"this.tableNum>0 || this.isTakingAway>0\"}],staticClass:\"btn btn-primary col py-2\",attrs:{\"disabled\":_vm.isProcessing},on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.submitOrder($event)}}},[_vm._v(_vm._s(_vm.isProcessing ? \"處理中...\" : \"結帳\"))])]),_c('div',{staticClass:\"d-flex justify-content-between text-right\"},[_c('h5',{directives:[{name:\"show\",rawName:\"v-show\",value:(this.tableNum),expression:\"this.tableNum\"}]},[_vm._v(\"桌號：\"+_vm._s(this.tableNum))]),_c('h5',{directives:[{name:\"show\",rawName:\"v-show\",value:(this.isTakingAway),expression:\"this.isTakingAway\"}]},[_vm._v(\"外帶\")]),_c('h5',{directives:[{name:\"show\",rawName:\"v-show\",value:(!this.tableNum && !this.isTakingAway),expression:\"!this.tableNum && !this.isTakingAway\"}]}),_c('h5',[_vm._v(\"金額：\"+_vm._s(this.addDishes.amount)+\"元\")])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"container\">\r\n    <div class=\"row my-2\">\r\n      <h5 class=\"col-auto mr-auto px-0\">總數：{{this.addDishes.quantity}}件</h5>\r\n      <h5>清單</h5>\r\n    </div>\r\n    <div class=\"border border-dark list rounded-lg\">\r\n      <div\r\n        v-for=\"dish in this.addDishes.list\"\r\n        :key=\"dish.id\"\r\n        class=\"dish border border-dark rounded-lg\"\r\n      >\r\n        <h5 class=\"mb-1\">{{dish.name}}</h5>\r\n        <div class=\"row\">\r\n          <div class=\"col-auto mr-auto px-0\">\r\n            <span>數量：{{dish.quantity}}</span>\r\n          </div>\r\n          <button\r\n            class=\"btn btn-primary\"\r\n            @click.stop.prevent=\"handleDeleteButtonClick(dish.PK,dish.quantity,dish.price)\"\r\n          >刪除</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <h5 class=\"my-2\">備註</h5>\r\n    <textarea class=\"w-100\" v-model=\"memo\" name=\"memo\" id rows=\"3\"></textarea>\r\n    <div class=\"row my-2\">\r\n      <button class=\"btn btn-primary col py-2\" @click.stop.prevent=\"tableNumber\">內用</button>\r\n      <button class=\"btn btn-primary col py-2\" @click.stop.prevent=\"takingAway\">外帶</button>\r\n      <button\r\n        v-show=\"this.tableNum>0 || this.isTakingAway>0\"\r\n        class=\"btn btn-primary col py-2\"\r\n        @click.stop.prevent=\"submitOrder\"\r\n        :disabled=\"isProcessing\"\r\n      >{{ isProcessing ? \"處理中...\" : \"結帳\" }}</button>\r\n    </div>\r\n    <div class=\"d-flex justify-content-between text-right\">\r\n      <h5 v-show=\"this.tableNum\">桌號：{{this.tableNum}}</h5>\r\n      <h5 v-show=\"this.isTakingAway\">外帶</h5>\r\n      <h5 v-show=\"!this.tableNum && !this.isTakingAway\"></h5>\r\n      <h5>金額：{{this.addDishes.amount}}元</h5>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport adminOrderAPI from \"../../apis/admin/order\";\r\n\r\nexport default {\r\n  name: \"AdminOrderListTable\",\r\n  props: {\r\n    addDishes: {}\r\n  },\r\n  data() {\r\n    return {\r\n      dishesData: this.addDishes,\r\n      tableNum: 0,\r\n      isTakingAway: 0,\r\n      memo: \"\",\r\n      quantity: 0,\r\n      amount: 0,\r\n      isProcessing: false\r\n    };\r\n  },\r\n  created() {},\r\n  methods: {\r\n    handleDeleteButtonClick(dishPK, quantity, price) {\r\n      this.addDishes.quantity =\r\n        Number(this.addDishes.quantity) - Number(quantity);\r\n      this.addDishes.amount = this.addDishes.amount - price * quantity;\r\n      this.$emit(\"after-delete-dish\", dishPK);\r\n    },\r\n    tableNumber() {\r\n      this.$swal\r\n        .fire({\r\n          title: \"<h1>請輸入桌號</h1>\",\r\n          icon: \"info\",\r\n          input: \"number\",\r\n          html: \"\",\r\n          showCloseButton: true,\r\n          showCancelButton: true,\r\n          focusConfirm: false,\r\n          confirmButtonText: '<i class=\"fa fa-thumbs-up\"></i> 確認',\r\n          cancelButtonText: '<i class=\"fa fa-thumbs-down\"></i> 返回'\r\n        })\r\n        .then(result => {\r\n          if (+result.value > 0) {\r\n            this.isTakingAway = 0;\r\n            this.tableNum = +result.value;\r\n          } else {\r\n            this.$swal({\r\n              type: \"warning\",\r\n              title: \"未新增桌號\"\r\n            });\r\n          }\r\n        });\r\n    },\r\n    takingAway() {\r\n      this.isTakingAway = 1;\r\n      this.tableNum = 0;\r\n    },\r\n    async submitOrder() {\r\n      try {\r\n        this.isProcessing = true;\r\n        if (this.addDishes.list.length === 0) {\r\n          throw new Error(statusText);\r\n        }\r\n        const response = await adminOrderAPI.list.post({\r\n          dishes: this.addDishes.list,\r\n          UserId: this.addDishes.user,\r\n          tableNum: this.tableNum,\r\n          isTakingAway: this.isTakingAway,\r\n          memo: this.memo,\r\n          quantity: this.addDishes.quantity,\r\n          amount: this.addDishes.amount\r\n        });\r\n        // eslint-disable-next-line\r\n        const { data, statusText } = response;\r\n        if (statusText !== \"OK\") {\r\n          throw new Error(statusText);\r\n        }\r\n\r\n        this.$emit(\"after-submit-order\");\r\n        this.tableNum = 0;\r\n        this.isTakingAway = 0;\r\n        this.memo = \"\";\r\n        this.$swal({\r\n          toast: true,\r\n          position: \"top\",\r\n          showConfirmButton: false,\r\n          timer: 3000,\r\n          icon: \"success\",\r\n          title: \"成功新增清單\",\r\n          text: \"\"\r\n        });\r\n        this.isProcessing = false;\r\n      } catch (error) {\r\n        this.$swal({\r\n          icon: \"warning\",\r\n          title: \"未新增清單\"\r\n        });\r\n        // eslint-disable-next-line\r\n        console.log(\"error\", error);\r\n        this.isProcessing = false;\r\n      }\r\n    }\r\n  },\r\n  watch: {\r\n    addDishes(dishesData) {\r\n      this.dishesData = {\r\n        ...this.dishesData,\r\n        ...dishesData\r\n      };\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.list {\r\n  height: calc(100vh - 340px);\r\n  overflow: auto;\r\n}\r\n.dish {\r\n  padding: 15px 15px;\r\n}\r\n.dish h5 {\r\n  margin-bottom: 15px;\r\n}\r\n.dish span {\r\n  line-height: 2.2;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdminOrderListTable.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdminOrderListTable.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AdminOrderListTable.vue?vue&type=template&id=05013621&scoped=true&\"\nimport script from \"./AdminOrderListTable.vue?vue&type=script&lang=js&\"\nexport * from \"./AdminOrderListTable.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AdminOrderListTable.vue?vue&type=style&index=0&id=05013621&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"05013621\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div>\r\n    <AdminNavbarTop :initial-title=\"title\" />\r\n    <Spinner v-if=\"isLoading\" />\r\n    <template v-else>\r\n      <div class=\"row\" style=\"height:100%;\">\r\n        <div\r\n          class=\"col-8 border border-dark border-right-0 border-top-0 p-0\"\r\n          style=\"height:calc(100vh - 100px);\"\r\n        >\r\n          <div>\r\n            <div class=\"container row mt-2\">\r\n              <div class=\"col-auto mr-auto px-0\">\r\n                <button class=\"d-none\">推薦區</button>\r\n                <button class=\"d-none\">菜單區</button>\r\n              </div>\r\n              <div>\r\n                <p\r\n                  v-show=\"this.userName\"\r\n                  class=\"d-inline-block text-capitalize mb-0 mr-2\"\r\n                >{{this.userName}}</p>\r\n                <form class=\"form-inline my-2 my-lg-0 d-inline-block\">\r\n                  <input\r\n                    class=\"form-control\"\r\n                    type=\"text\"\r\n                    v-model=\"userPhone\"\r\n                    placeholder=\"09XXXXXXXX\"\r\n                    style=\"width: 115px;\"\r\n                  />\r\n                  <button\r\n                    class=\"btn btn-outline-success mx-2\"\r\n                    type=\"submit\"\r\n                    :disabled=\"searchingUser || userPhone.trim() === ``\"\r\n                    @click.stop.prevent=\"searchUser\"\r\n                  >搜尋會員</button>\r\n                  <button\r\n                    class=\"btn btn-outline-success\"\r\n                    type=\"submit\"\r\n                    @click.stop.prevent=\"createUser\"\r\n                  >快速註冊會員</button>\r\n                </form>\r\n              </div>\r\n            </div>\r\n            <AdminOrderMealTable\r\n              :initial-categories=\"categories\"\r\n              :initial-dishes=\"dishes\"\r\n              @after-add-to-order=\"afterAddToOrder\"\r\n            />\r\n          </div>\r\n        </div>\r\n        <div class=\"col-4 border border-dark border-top-0 p-0\" style=\"height:calc(100vh - 100px);\">\r\n          <AdminOrderListTable\r\n            :add-dishes=\"addDishes\"\r\n            @after-delete-dish=\"afterDeleteDish\"\r\n            @after-submit-order=\"aftersubmitorder\"\r\n          />\r\n        </div>\r\n      </div>\r\n    </template>\r\n\r\n    <div v-show=\"searchResultShow\" class=\"searchResult\">\r\n      <div class=\"modal-dialog modal-lg\">\r\n        <div class=\"modal-content\">\r\n          <div class=\"modal-header\">\r\n            <h5 class=\"modal-title\" id=\"exampleModalLabel\">會員資料</h5>\r\n            <button\r\n              type=\"button\"\r\n              class=\"btn btn-primary\"\r\n              @click.stop.prevent=\"editUserBtn\"\r\n              v-show=\"false\"\r\n            >編輯</button>\r\n          </div>\r\n          <div class=\"modal-body\">\r\n            <AdminMemberForm\r\n              :initial-user=\"user\"\r\n              :initial-orders=\"orders\"\r\n              :initial-edit-user=\"editUser\"\r\n              :initial-create-member=\"createMember\"\r\n              @after-form-edit-cancel=\"afterFormEditCancel\"\r\n            />\r\n          </div>\r\n          <div class=\"modal-footer\" v-show=\"!this.editUser\">\r\n            <button type=\"button\" class=\"btn btn-primary\" @click.stop.prevent=\"afterAddUser\">加入</button>\r\n            <button type=\"button\" class=\"btn btn-primary\" @click.stop.prevent=\"closeResult\">關閉</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <AdminNavbarBottm />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport AdminNavbarTop from \"../../components/Navbar/AdminNavbarTop\";\r\nimport AdminNavbarBottm from \"../../components/Navbar/AdminNavbarBottm\";\r\nimport AdminOrderMealTable from \"../../components/Table/AdminOrderMealTable\";\r\nimport AdminOrderListTable from \"../../components/Table/AdminOrderListTable\";\r\nimport AdminMemberForm from \"../../components/Form/AdminMemberForm\";\r\nimport Spinner from \"../../components/Spinner/Spinner\";\r\nimport adminDishAPI from \"../../apis/admin/dish\";\r\nimport adminCategoryAPI from \"../../apis/admin/category\";\r\nimport adminMemberAPI from \"../../apis/admin/member\";\r\nimport io from \"socket.io-client\";\r\n\r\nexport default {\r\n  name: \"AdminOrder\",\r\n  components: {\r\n    AdminNavbarTop,\r\n    AdminNavbarBottm,\r\n    AdminOrderMealTable,\r\n    AdminOrderListTable,\r\n    AdminMemberForm,\r\n    Spinner\r\n  },\r\n  data() {\r\n    return {\r\n      title: \"店內點餐\",\r\n      categories: [],\r\n      dishes: [],\r\n      addDishes: {\r\n        list: [],\r\n        user: \"\",\r\n        quantity: 0,\r\n        amount: 0\r\n      },\r\n      userName: \"\",\r\n      userPhone: \"\",\r\n      createMember: false,\r\n      user: {},\r\n      orders: {},\r\n      dishPK: 0,\r\n      searchingUser: false,\r\n      searchResultShow: false,\r\n      editUser: false,\r\n      isLoading: true,\r\n      socket: io(\"https://recusplatform.herokuapp.com/\")\r\n    };\r\n  },\r\n  created() {\r\n    // add socket\r\n    this.socket.emit(\"init\");\r\n    const { categoryId = 1 } = this.$route.query;\r\n    this.fetchDishes({ categoryId });\r\n    this.fetchCategories();\r\n  },\r\n  beforeRouteUpdate(to, from, next) {\r\n    const { categoryId = 1 } = to.query;\r\n    this.fetchDishes({ categoryId });\r\n    next();\r\n  },\r\n  methods: {\r\n    async fetchCategories() {\r\n      try {\r\n        const response = await adminCategoryAPI.categories.get();\r\n        const { data, statusText } = response;\r\n        if (statusText !== \"OK\") {\r\n          throw new Error(statusText);\r\n        }\r\n        this.categories = data.categories;\r\n      } catch (error) {\r\n        // eslint-disable-next-line\r\n        console.log(\"error\", error);\r\n      }\r\n    },\r\n    async fetchDishes(categoryId) {\r\n      try {\r\n        const response = await adminDishAPI.dishes.get(categoryId);\r\n        const { data, statusText } = response;\r\n        if (statusText !== \"OK\") {\r\n          throw new Error(statusText);\r\n        }\r\n        this.dishes = [...data.dishes];\r\n        this.isLoading = false;\r\n      } catch (error) {\r\n        this.isLoading = false;\r\n        this.$swal({\r\n          icon: \"warning\",\r\n          title: \"無法取得資料，請稍後再試\"\r\n        });\r\n        // eslint-disable-next-line\r\n        console.log(\"error\", error);\r\n      }\r\n    },\r\n    async searchUser() {\r\n      try {\r\n        this.searchingUser = true;\r\n        const response = await adminMemberAPI.searchMember({\r\n          phone: this.userPhone\r\n        });\r\n        const { data, statusText } = response;\r\n        if (statusText !== \"OK\") {\r\n          throw new Error(statusText);\r\n        }\r\n\r\n        if (data.status === \"error\") {\r\n          this.$swal({\r\n            toast: true,\r\n            position: \"top\",\r\n            showConfirmButton: false,\r\n            timer: 3000,\r\n            icon: \"warning\",\r\n            title: \"未找到會員\",\r\n            text: \"\"\r\n          });\r\n          this.searchingUser = false;\r\n        } else {\r\n          this.getMemberOrders(data.user.id);\r\n          this.user = data.user;\r\n          this.searchResultShow = true;\r\n          this.searchingUser = false;\r\n        }\r\n      } catch (error) {\r\n        this.searchingUser = false;\r\n        // eslint-disable-next-line\r\n        console.log(\"error\", error);\r\n      }\r\n    },\r\n    afterDeleteDish(dishPK) {\r\n      this.addDishes.list = this.addDishes.list.filter(\r\n        dish => dish.PK !== dishPK\r\n      );\r\n    },\r\n    afterAddToOrder(payload) {\r\n      const { id, name, price, quantity } = payload;\r\n      this.addDishes.list.unshift({\r\n        PK: this.dishPK++,\r\n        id: id,\r\n        name: name,\r\n        price: price,\r\n        quantity: quantity\r\n      });\r\n      this.addDishes.quantity =\r\n        Number(this.addDishes.quantity) + Number(quantity);\r\n      this.addDishes.amount = this.addDishes.amount + price * quantity;\r\n    },\r\n    aftersubmitorder() {\r\n      this.addDishes = {\r\n        list: [],\r\n        user: \"\",\r\n        quantity: 0,\r\n        amount: 0\r\n      };\r\n      this.userName = \"\";\r\n      this.dishPK = 0;\r\n      // add socket emit here\r\n      this.socket.emit(\"addPending\");\r\n    },\r\n    afterAddUser() {\r\n      this.userName = this.user.Profile.name;\r\n      this.addDishes.user = this.user.id;\r\n      this.user = {};\r\n      this.userPhone = \"\";\r\n      this.searchResultShow = false;\r\n    },\r\n    closeResult() {\r\n      this.searchResultShow = false;\r\n      this.user = {\r\n        Profile: {\r\n          avatar: \"\",\r\n          email: \"\",\r\n          name: \"\"\r\n        },\r\n        account: \"\",\r\n        password: \"\",\r\n        phone: \"\",\r\n        role: \"\"\r\n      };\r\n      this.editUser = false;\r\n    },\r\n    afterFormEditCancel() {\r\n      if (this.createMember) {\r\n        this.searchResultShow = false;\r\n      }\r\n      this.createMember = false;\r\n      this.editUser = false;\r\n    },\r\n    editUserBtn() {\r\n      this.editUser = true;\r\n    },\r\n    createUser() {\r\n      this.user = {\r\n        Profile: {\r\n          avatar: \"\",\r\n          email: \"\",\r\n          name: \"\"\r\n        },\r\n        account: \"\",\r\n        password: \"\",\r\n        phone: \"\",\r\n        role: \"\"\r\n      };\r\n      this.createMember = true;\r\n      this.searchResultShow = true;\r\n      this.editUser = true;\r\n    },\r\n    async getMemberOrders(userId) {\r\n      try {\r\n        const response = await adminMemberAPI.getMemberOrders(userId);\r\n        const { data, statusText } = response;\r\n        if (statusText !== \"OK\") {\r\n          throw new Error(statusText);\r\n        }\r\n\r\n        if (data.status === \"error\") {\r\n          this.$swal({\r\n            toast: true,\r\n            position: \"top\",\r\n            showConfirmButton: false,\r\n            timer: 3000,\r\n            icon: \"warning\",\r\n            title: data.msg\r\n          });\r\n        } else {\r\n          this.orders = data.orders;\r\n        }\r\n      } catch (error) {\r\n        // eslint-disable-next-line\r\n        console.log(\"error\", error);\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.searchResult {\r\n  top: 0;\r\n  position: absolute;\r\n  z-index: 200;\r\n  /* display: none; */\r\n  height: 100vh;\r\n  width: 100vw;\r\n  overflow: auto;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdminOrder.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdminOrder.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AdminOrder.vue?vue&type=template&id=6a848ca4&scoped=true&\"\nimport script from \"./AdminOrder.vue?vue&type=script&lang=js&\"\nexport * from \"./AdminOrder.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AdminOrder.vue?vue&type=style&index=0&id=6a848ca4&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6a848ca4\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdminOrder.vue?vue&type=style&index=0&id=6a848ca4&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdminOrder.vue?vue&type=style&index=0&id=6a848ca4&scoped=true&lang=css&\"","import { apiHelper } from '../../utils/helpers'\r\n\r\nexport default {\r\n  categories: {\r\n    get() {\r\n      return apiHelper.get('/admin/categories')\r\n    }\r\n  },\r\n  category: {\r\n    get(categoryId) {\r\n      return apiHelper.get(`/admin/categories/${categoryId}`)\r\n    },\r\n    post(name) {\r\n      return apiHelper.post(`/admin/categories`, name)\r\n    },\r\n    put({ categoryId, name }) {\r\n      return apiHelper.put(`/admin/categories/${categoryId}`, { name })\r\n    },\r\n    delete(TagId) {\r\n      return apiHelper.delete(`/admin/categories/${TagId}`)\r\n    }\r\n  }\r\n}","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdminOrderListTable.vue?vue&type=style&index=0&id=05013621&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdminOrderListTable.vue?vue&type=style&index=0&id=05013621&scoped=true&lang=css&\"","import { apiHelper } from '../../utils/helpers'\r\n\r\nexport default {\r\n  dishes: {\r\n    get({ categoryId }) {\r\n      const searchParams = new URLSearchParams({ categoryId })\r\n      return apiHelper.get(`/admin/dishes?${searchParams.toString()}`)\r\n    }\r\n  },\r\n  dish: {\r\n    get(dishId) {\r\n      return apiHelper.get(`/admin/dishes/${dishId}`)\r\n    },\r\n    post(formData) {\r\n      return apiHelper.post(`/admin/dishes`, formData)\r\n    },\r\n    put({ dishId, formData }) {\r\n      return apiHelper.put(`/admin/dishes/${dishId}`, formData)\r\n    },\r\n    delete(dishId) {\r\n      return apiHelper.delete(`/admin/dishes/${dishId}`)\r\n    }\r\n  }\r\n}","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdminOrderMealTable.vue?vue&type=style&index=0&id=4e5558b9&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdminOrderMealTable.vue?vue&type=style&index=0&id=4e5558b9&scoped=true&lang=css&\""],"sourceRoot":""}