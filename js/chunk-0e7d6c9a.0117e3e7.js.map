{"version":3,"sources":["webpack:///./src/utils/mixins.js","webpack:///./src/components/Spinner/Spinner.vue?4815","webpack:///src/components/Spinner/Spinner.vue","webpack:///./src/components/Spinner/Spinner.vue?9303","webpack:///./src/components/Spinner/Spinner.vue","webpack:///./src/components/Spinner/Spinner.vue?761b","webpack:///./src/views/member/MemberProfile.vue?ef23","webpack:///./src/apis/member/profile.js","webpack:///src/views/member/MemberProfile.vue","webpack:///./src/views/member/MemberProfile.vue?7399","webpack:///./src/views/member/MemberProfile.vue","webpack:///./src/components/Form/ProfileForm.vue?0867","webpack:///./src/apis/member/tag.js","webpack:///./src/components/Form/ProfileForm.vue?1060","webpack:///src/components/Form/ProfileForm.vue","webpack:///./src/components/Form/ProfileForm.vue?f2ce","webpack:///./src/components/Form/ProfileForm.vue","webpack:///./src/components/Navbar/MemberNavbarBottom.vue?3926","webpack:///src/components/Navbar/MemberNavbarBottom.vue","webpack:///./src/components/Navbar/MemberNavbarBottom.vue?13e4","webpack:///./src/components/Navbar/MemberNavbarBottom.vue"],"names":["timeFromFilter","filters","timeFrom","datetime","moment","locale","format","fromNowFilter","fromNow","emptyImageFilter","emptyImage","src","render","_vm","this","_h","$createElement","_self","_c","_m","staticRenderFns","staticClass","name","component","loadingProfile","loadingTags","attrs","profile","allTags","editing","isProcessing","on","edit","handleSubmit","get","apiHelper","put","formData","components","Spinner","ProfileForm","MemberNavbarBottom","data","account","phone","email","avatar","preferredTags","saveAccount","savePhone","saveName","saveEmail","saveAvatar","savePreferredTags","created","loadProfile","fetchTags","methods","search","searchParams","URLSearchParams","toString","staticStyle","_v","initialIsProcessing","$event","stopPropagation","preventDefault","_s","initialEditing","_f","directives","rawName","value","expression","handleFileChange","$store","state","currentUser","role","domProps","target","composing","tagName","searchTag","_l","dtag","key","id","addTag","tag","removeTag","_e","class","$v","$error","$set","$touch","$pending","$dirty","required","$router","back","$invalid","mixins","props","initialProfile","type","Object","default","initialTags","Array","Boolean","tags","searchResult","validations","minLength","maxLength","watch","computed","tagsDisplay","has","add","e","$emit","files","length","imageURL","result","unshift","filter","logout","commit","push"],"mappings":"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","file":"js/chunk-0e7d6c9a.0117e3e7.js","sourcesContent":["import moment from 'moment'\r\n\r\nexport const timeFromFilter = {\r\n  filters: {\r\n    timeFrom(datetime) {\r\n      return datetime ? moment(datetime).locale(\"zh-tw\").format('llll') : '-'\r\n    }\r\n  }\r\n}\r\n\r\nexport const fromNowFilter = {\r\n  filters: {\r\n    fromNow(datetime) {\r\n      return datetime ? moment(datetime).fromNow() : '-'\r\n    }\r\n  }\r\n}\r\n\r\nexport const emptyImageFilter = {\r\n  filters: {\r\n    emptyImage(src) {\r\n      return src || 'https://via.placeholder.com/350x220/DFDFDF?text=No+Image'\r\n    }\r\n  }\r\n}","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _vm._m(0)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"spinner\"},[_c('div',{staticClass:\"bouncing-loader\"},[_c('div'),_c('div'),_c('div')])])}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"spinner\">\r\n    <div class=\"bouncing-loader\">\r\n      <div />\r\n      <div />\r\n      <div />\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"Spinner\"\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.spinner {\r\n  padding-top: 30vh;\r\n}\r\n\r\n.bouncing-loader {\r\n  display: flex;\r\n  justify-content: center;\r\n}\r\n\r\n.bouncing-loader > div {\r\n  width: 1rem;\r\n  height: 1rem;\r\n  margin: 3rem 0.2rem;\r\n  background: #bd2333;\r\n  border-radius: 50%;\r\n  animation: bouncing-loader 0.6s infinite alternate;\r\n}\r\n\r\n.bouncing-loader > div:nth-child(2) {\r\n  animation-delay: 0.2s;\r\n}\r\n\r\n.bouncing-loader > div:nth-child(3) {\r\n  animation-delay: 0.4s;\r\n}\r\n\r\n@keyframes bouncing-loader {\r\n  from {\r\n    opacity: 1;\r\n    transform: translateY(0);\r\n  }\r\n  to {\r\n    opacity: 0.1;\r\n    transform: translateY(-1rem);\r\n  }\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Spinner.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Spinner.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Spinner.vue?vue&type=template&id=99d7148a&scoped=true&\"\nimport script from \"./Spinner.vue?vue&type=script&lang=js&\"\nexport * from \"./Spinner.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Spinner.vue?vue&type=style&index=0&id=99d7148a&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"99d7148a\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Spinner.vue?vue&type=style&index=0&id=99d7148a&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Spinner.vue?vue&type=style&index=0&id=99d7148a&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"h-100\"},[(_vm.loadingProfile && _vm.loadingTags)?_c('Spinner'):[_c('ProfileForm',{attrs:{\"initial-profile\":_vm.profile,\"initial-tags\":_vm.allTags,\"initial-editing\":_vm.editing,\"initial-isProcessing\":_vm.isProcessing},on:{\"after-edit\":_vm.edit,\"after-submit\":_vm.handleSubmit}})],_c('MemberNavbarBottom')],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { apiHelper } from '../../utils/helpers'\r\n\r\nexport default {\r\n  get() {\r\n    return apiHelper.get(`/member/profile`)\r\n  },\r\n  put(formData) {\r\n    return apiHelper.put(`/member/profile`, formData)\r\n  }\r\n}","<template>\r\n  <div class=\"h-100\">\r\n    <Spinner v-if=\"loadingProfile && loadingTags\" />\r\n    <template v-else>\r\n      <ProfileForm\r\n        :initial-profile=\"profile\"\r\n        :initial-tags=\"allTags\"\r\n        :initial-editing=\"editing\"\r\n        :initial-isProcessing=\"isProcessing\"\r\n        @after-edit=\"edit\"\r\n        @after-submit=\"handleSubmit\"\r\n      />\r\n    </template>\r\n    <MemberNavbarBottom />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Spinner from \"../../components/Spinner/Spinner\";\r\nimport MemberNavbarBottom from \"../../components/Navbar/MemberNavbarBottom\";\r\nimport ProfileForm from \"../../components/Form/ProfileForm\";\r\nimport memberProfileAPI from \"../../apis/member/profile\";\r\nimport memberTagAPI from \"../../apis/member/tag\";\r\n\r\nexport default {\r\n  name: \"MemberProfile\",\r\n  components: {\r\n    Spinner,\r\n    ProfileForm,\r\n    MemberNavbarBottom\r\n  },\r\n  data() {\r\n    return {\r\n      profile: {\r\n        account: \"\",\r\n        phone: \"\",\r\n        name: \"\",\r\n        email: \"\",\r\n        avatar: \"\",\r\n        preferredTags: []\r\n      },\r\n      allTags: [],\r\n      saveAccount: \"\",\r\n      savePhone: \"\",\r\n      saveName: \"\",\r\n      saveEmail: \"\",\r\n      saveAvatar: \"\",\r\n      savePreferredTags: [],\r\n      loadingProfile: true,\r\n      loadingTags: true,\r\n      isProcessing: false,\r\n      editing: false\r\n    };\r\n  },\r\n  created() {\r\n    this.loadProfile();\r\n    this.fetchTags();\r\n  },\r\n  methods: {\r\n    async fetchTags() {\r\n      try {\r\n        const response = await memberTagAPI.get();\r\n        const { data, statusText } = response;\r\n        if (statusText !== \"OK\") {\r\n          throw new Error(statusText);\r\n        }\r\n\r\n        this.allTags = data;\r\n        this.loadingTags = false;\r\n      } catch (error) {\r\n        this.loadingTags = false;\r\n        // eslint-disable-next-line\r\n        console.log(\"error\", error);\r\n      }\r\n    },\r\n    async loadProfile() {\r\n      try {\r\n        const response = await memberProfileAPI.get();\r\n        const { data, statusText } = response;\r\n        if (statusText !== \"OK\") {\r\n          throw new Error(statusText);\r\n        }\r\n\r\n        if (data.status === \"error\") {\r\n          this.$swal({\r\n            toast: true,\r\n            position: \"top\",\r\n            showConfirmButton: false,\r\n            timer: 3000,\r\n            icon: \"warning\",\r\n            title: \"未找到會員\",\r\n            text: \"\"\r\n          });\r\n          this.loadingProfile = false;\r\n        } else {\r\n          this.profile.account = data.user.account;\r\n          this.profile.phone = data.user.phone;\r\n          this.profile.name = data.user.Profile.name;\r\n          this.profile.email = data.user.Profile.email;\r\n          this.profile.avatar = data.user.Profile.avatar;\r\n          this.profile.preferredTags = data.user.preferredTags;\r\n\r\n          this.saveAccount = data.user.account;\r\n          this.savePhone = data.user.phone;\r\n          this.saveName = data.user.Profile.name;\r\n          this.saveEmail = data.user.Profile.email;\r\n          this.saveAvatar = data.user.Profile.avatar;\r\n          this.savePreferredTags = [...data.user.preferredTags];\r\n          this.loadingProfile = false;\r\n        }\r\n      } catch (error) {\r\n        this.loadingProfile = false;\r\n        // eslint-disable-next-line\r\n        console.log(\"error\", error);\r\n      }\r\n    },\r\n    async handleSubmit() {\r\n      try {\r\n        this.isProcessing = true;\r\n        const response = await memberProfileAPI.put({\r\n          account: this.profile.account,\r\n          name: this.profile.name,\r\n          phone: this.profile.phone,\r\n          avatar: this.profile.avatar,\r\n          tags: this.profile.preferredTags,\r\n          email: this.profile.email\r\n        });\r\n        const { data, statusText } = response;\r\n        if (statusText !== \"OK\") {\r\n          throw new Error(statusText);\r\n        }\r\n\r\n        this.$swal({\r\n          toast: true,\r\n          position: \"top\",\r\n          showConfirmButton: false,\r\n          timer: 3000,\r\n          icon: \"success\",\r\n          title: data.msg\r\n        });\r\n        this.isProcessing = false;\r\n      } catch (error) {\r\n        this.isProcessing = false;\r\n        this.$swal({\r\n          icon: \"warning\",\r\n          title: \"註冊失敗，請稍後再試\"\r\n        });\r\n        // eslint-disable-next-line\r\n        console.log(\"error\", error);\r\n      }\r\n    },\r\n    edit() {\r\n      if (this.editing) {\r\n        this.profile.account = this.saveAccount;\r\n        this.profile.phone = this.savePhone;\r\n        this.profile.name = this.saveName;\r\n        this.profile.email = this.saveEmail;\r\n        this.profile.avatar = this.saveAvatar;\r\n        this.profile.preferredTags = this.savePreferredTags;\r\n        this.editing = false;\r\n      } else {\r\n        this.editing = true;\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MemberProfile.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MemberProfile.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MemberProfile.vue?vue&type=template&id=57f149f8&\"\nimport script from \"./MemberProfile.vue?vue&type=script&lang=js&\"\nexport * from \"./MemberProfile.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProfileForm.vue?vue&type=style&index=0&id=187a69ee&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProfileForm.vue?vue&type=style&index=0&id=187a69ee&lang=scss&scoped=true&\"","import { apiHelper } from '../../utils/helpers'\r\n\r\nexport default {\r\n  search(name) {\r\n    const searchParams = new URLSearchParams(name)\r\n    return apiHelper.get(`/member/tag?${searchParams.toString()}`)\r\n  },\r\n  get() {\r\n    return apiHelper.get(`/member/tags`)\r\n  },\r\n}","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"box-center\",staticStyle:{\"background-color\":\"#F0E8DD\",\"height\":\"100%\"}},[_c('div',{staticClass:\"container border border-secondary\",staticStyle:{\"max-width\":\"500px\",\"border-radius\":\"5%\"}},[_c('h1',{staticClass:\"py-3 text-center\"},[_vm._v(\"會員資料\")]),_c('form',{staticClass:\"row\"},[_c('div',{staticClass:\"form-group col-12 text-center\"},[_c('button',{staticClass:\"btn btn-primary px-4 py-2\",staticStyle:{\"position\":\"absolute\",\"right\":\"0\"},attrs:{\"disabled\":_vm.initialIsProcessing},on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.edit()}}},[_vm._v(_vm._s(_vm.initialEditing ? \"取消\" : \"編輯\"))]),_c('img',{staticClass:\"user-avatar\",attrs:{\"src\":_vm._f(\"emptyImage\")(_vm.profile.avatar),\"width\":\"150\",\"height\":\"150\"}}),_c('input',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.initialEditing),expression:\"initialEditing\"}],staticClass:\"align-bottom\",attrs:{\"id\":\"image\",\"type\":\"file\",\"name\":\"image\",\"accept\":\"image/*\",\"disabled\":_vm.initialIsProcessing || !_vm.initialEditing},on:{\"change\":_vm.handleFileChange}})]),(this.$store.state.currentUser.role === \"member\")?_c('div',{staticClass:\"form-label-group mb-3 col-12\"},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.initialEditing),expression:\"initialEditing\"}]},[_c('label',[_vm._v(\"標籤\")]),_c('div',{staticClass:\"form-inline mb-2\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.tagName),expression:\"tagName\"}],staticClass:\"form-control mr-sm-2\",attrs:{\"type\":\"text\",\"name\":\"searchTag\",\"disabled\":_vm.initialIsProcessing,\"placeholder\":\"Search Tag name\"},domProps:{\"value\":(_vm.tagName)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.tagName=$event.target.value}}}),_c('button',{staticClass:\"btn btn-primary\",attrs:{\"type\":\"button\",\"disabled\":_vm.initialIsProcessing},on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.searchTag($event)}}},[_vm._v(\"搜尋\")])]),_vm._l((_vm.tagsDisplay),function(dtag){return _c('button',{key:dtag.id,staticClass:\"btn btn-primary mr-2 mt-2\",attrs:{\"disabled\":_vm.initialIsProcessing},on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.addTag(dtag)}}},[_vm._v(_vm._s(dtag.name))])})],2),_c('label',{staticClass:\"d-block\"},[_vm._v(\"偏好標籤\")]),_vm._l((_vm.profile.preferredTags),function(tag){return _c('div',{key:tag.id,staticClass:\"d-inline-block\"},[_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.initialEditing),expression:\"initialEditing\"}],staticClass:\"btn btn-primary mr-2 mb-2\",attrs:{\"disabled\":_vm.initialIsProcessing},on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.removeTag(tag)}}},[_vm._v(\"#\"+_vm._s(tag.name))]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.initialEditing),expression:\"!initialEditing\"}],staticClass:\"badge badge-danger\"},[_vm._v(_vm._s(tag.name))])])})],2):_vm._e(),_c('div',{staticClass:\"form-label-group mb-3 col-sm-6 col-12\",class:{'form-group--error': _vm.$v.profile.name.$error}},[_c('label',{attrs:{\"for\":\"name\"}},[_vm._v(\"Name\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.profile.name),expression:\"profile.name\"}],staticClass:\"form-control\",attrs:{\"disabled\":_vm.initialIsProcessing || !_vm.initialEditing,\"maxlength\":\"20\",\"minlength\":\"1\",\"id\":\"name\",\"name\":\"name\",\"type\":\"text\",\"placeholder\":\"name\",\"required\":\"\",\"autofocus\":\"\"},domProps:{\"value\":(_vm.profile.name)},on:{\"input\":[function($event){if($event.target.composing){ return; }_vm.$set(_vm.profile, \"name\", $event.target.value)},_vm.$v.profile.name.$touch]}}),(_vm.$v.profile.name.$error)?_c('small',{staticClass:\"text-danger\"},[_vm._v(\"長度介於 1 - 20\")]):_vm._e()]),_c('div',{staticClass:\"form-label-group mb-3 col-sm-6 col-12\",class:{'form-group--error': _vm.$v.profile.phone.$error}},[_c('label',{attrs:{\"for\":\"name\"}},[_vm._v(\"Phone\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.profile.phone),expression:\"profile.phone\"}],staticClass:\"form-control\",attrs:{\"disabled\":_vm.initialIsProcessing || !_vm.initialEditing,\"maxlength\":\"15\",\"minlength\":\"8\",\"id\":\"phone\",\"name\":\"phone\",\"type\":\"number\",\"placeholder\":\"phone\",\"required\":\"\",\"autofocus\":\"\"},domProps:{\"value\":(_vm.profile.phone)},on:{\"input\":[function($event){if($event.target.composing){ return; }_vm.$set(_vm.profile, \"phone\", $event.target.value)},_vm.$v.profile.phone.$touch]}}),(_vm.$v.profile.phone.$error)?_c('small',{staticClass:\"text-danger\"},[_vm._v(\"長度需為 10\")]):_vm._e()]),_c('div',{staticClass:\"form-label-group mb-3 col-sm-6 col-12\",class:{'form-group--error': _vm.$v.profile.email.$error && !_vm.$v.profile.email.$pending}},[_c('label',{attrs:{\"for\":\"email\"}},[_vm._v(\"Email\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.profile.email),expression:\"profile.email\"}],staticClass:\"form-control\",attrs:{\"disabled\":_vm.initialIsProcessing || !_vm.initialEditing,\"id\":\"email\",\"name\":\"email\",\"type\":\"email\",\"placeholder\":\"email\",\"required\":\"\",\"autofocus\":\"\"},domProps:{\"value\":(_vm.profile.email)},on:{\"input\":[function($event){if($event.target.composing){ return; }_vm.$set(_vm.profile, \"email\", $event.target.value)},_vm.$v.profile.email.$touch]}}),(!_vm.$v.profile.email && _vm.$v.profile.email.$dirty)?_c('small',{staticClass:\"text-danger\"},[_vm._v(\"請輸入格式正確的電子信箱\")]):_vm._e(),(!_vm.$v.profile.email.required && _vm.$v.profile.email.$dirty)?_c('small',{staticClass:\"text-danger\"},[_vm._v(\"電子信箱必填\")]):_vm._e()]),_c('div',{staticClass:\"form-label-group mb-3 col-sm-6 col-12\",class:{'form-group--error': _vm.$v.profile.account.$error}},[_c('label',{attrs:{\"for\":\"name\"}},[_vm._v(\"Account\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.profile.account),expression:\"profile.account\"}],staticClass:\"form-control\",attrs:{\"disabled\":_vm.initialIsProcessing || !_vm.initialEditing,\"maxlength\":\"30\",\"minlength\":\"6\",\"id\":\"account\",\"name\":\"account\",\"type\":\"text\",\"placeholder\":\"account\",\"required\":\"\"},domProps:{\"value\":(_vm.profile.account)},on:{\"input\":[function($event){if($event.target.composing){ return; }_vm.$set(_vm.profile, \"account\", $event.target.value)},_vm.$v.profile.account.$touch]}}),_c('small',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.$v.profile.account.$error),expression:\"$v.profile.account.$error\"}],staticClass:\"text-danger\"},[_vm._v(\"長度介於 5 - 30\")])]),_c('div',{staticClass:\"col-12 pb-4\"},[_c('button',{staticClass:\"btn btn-primary w-50 p-2\",attrs:{\"disabled\":_vm.initialIsProcessing},on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.$router.back()}}},[_vm._v(\"回上一頁\")]),_c('button',{staticClass:\"btn btn-primary w-50 p-2\",attrs:{\"disabled\":_vm.initialIsProcessing || _vm.$v.$invalid || !_vm.initialEditing,\"type\":\"submit\"},on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.handleSubmit($event)}}},[_vm._v(_vm._s(_vm.initialIsProcessing ? \"處理中...\" : \"送出\"))])])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"box-center\" style=\"background-color: #F0E8DD;height: 100%;\">\r\n    <div class=\"container border border-secondary\" style=\"max-width: 500px;border-radius: 5%;\">\r\n      <h1 class=\"py-3 text-center\">會員資料</h1>\r\n      <form class=\"row\">\r\n        <div class=\"form-group col-12 text-center\">\r\n          <button\r\n            class=\"btn btn-primary px-4 py-2\"\r\n            style=\"position: absolute;right: 0;\"\r\n            :disabled=\"initialIsProcessing\"\r\n            @click.stop.prevent=\"edit()\"\r\n          >{{ initialEditing ? \"取消\" : \"編輯\" }}</button>\r\n          <img :src=\"profile.avatar | emptyImage\" class=\"user-avatar\" width=\"150\" height=\"150\" />\r\n\r\n          <input\r\n            id=\"image\"\r\n            type=\"file\"\r\n            name=\"image\"\r\n            accept=\"image/*\"\r\n            @change=\"handleFileChange\"\r\n            class=\"align-bottom\"\r\n            v-show=\"initialEditing\"\r\n            :disabled=\"initialIsProcessing || !initialEditing\"\r\n          />\r\n        </div>\r\n\r\n        <div\r\n          v-if=\"this.$store.state.currentUser.role === `member`\"\r\n          class=\"form-label-group mb-3 col-12\"\r\n        >\r\n          <div v-show=\"initialEditing\">\r\n            <label>標籤</label>\r\n            <div class=\"form-inline mb-2\">\r\n              <input\r\n                class=\"form-control mr-sm-2\"\r\n                type=\"text\"\r\n                name=\"searchTag\"\r\n                v-model=\"tagName\"\r\n                :disabled=\"initialIsProcessing\"\r\n                placeholder=\"Search Tag name\"\r\n              />\r\n              <button\r\n                type=\"button\"\r\n                class=\"btn btn-primary\"\r\n                :disabled=\"initialIsProcessing\"\r\n                @click.stop.prevent=\"searchTag\"\r\n              >搜尋</button>\r\n            </div>\r\n            <button\r\n              v-for=\"dtag in tagsDisplay\"\r\n              :key=\"dtag.id\"\r\n              class=\"btn btn-primary mr-2 mt-2\"\r\n              :disabled=\"initialIsProcessing\"\r\n              @click.stop.prevent=\"addTag(dtag)\"\r\n            >{{ dtag.name }}</button>\r\n          </div>\r\n\r\n          <label class=\"d-block\">偏好標籤</label>\r\n          <div class=\"d-inline-block\" v-for=\"tag in profile.preferredTags\" :key=\"tag.id\">\r\n            <button\r\n              v-show=\"initialEditing\"\r\n              class=\"btn btn-primary mr-2 mb-2\"\r\n              :disabled=\"initialIsProcessing\"\r\n              @click.stop.prevent=\"removeTag(tag)\"\r\n            >#{{ tag.name }}</button>\r\n            <div v-show=\"!initialEditing\" class=\"badge badge-danger\">{{tag.name}}</div>\r\n          </div>\r\n        </div>\r\n\r\n        <div\r\n          class=\"form-label-group mb-3 col-sm-6 col-12\"\r\n          :class=\"{'form-group--error': $v.profile.name.$error}\"\r\n        >\r\n          <label for=\"name\">Name</label>\r\n          <input\r\n            @input=\"$v.profile.name.$touch\"\r\n            :disabled=\"initialIsProcessing || !initialEditing\"\r\n            maxlength=\"20\"\r\n            minlength=\"1\"\r\n            id=\"name\"\r\n            v-model=\"profile.name\"\r\n            name=\"name\"\r\n            type=\"text\"\r\n            class=\"form-control\"\r\n            placeholder=\"name\"\r\n            required\r\n            autofocus\r\n          />\r\n          <small v-if=\"$v.profile.name.$error\" class=\"text-danger\">長度介於 1 - 20</small>\r\n        </div>\r\n\r\n        <div\r\n          class=\"form-label-group mb-3 col-sm-6 col-12\"\r\n          :class=\"{'form-group--error': $v.profile.phone.$error}\"\r\n        >\r\n          <label for=\"name\">Phone</label>\r\n          <input\r\n            @input=\"$v.profile.phone.$touch\"\r\n            :disabled=\"initialIsProcessing || !initialEditing\"\r\n            maxlength=\"15\"\r\n            minlength=\"8\"\r\n            id=\"phone\"\r\n            v-model=\"profile.phone\"\r\n            name=\"phone\"\r\n            type=\"number\"\r\n            class=\"form-control\"\r\n            placeholder=\"phone\"\r\n            required\r\n            autofocus\r\n          />\r\n          <small v-if=\"$v.profile.phone.$error\" class=\"text-danger\">長度需為 10</small>\r\n        </div>\r\n\r\n        <div\r\n          class=\"form-label-group mb-3 col-sm-6 col-12\"\r\n          :class=\"{'form-group--error': $v.profile.email.$error && !$v.profile.email.$pending}\"\r\n        >\r\n          <label for=\"email\">Email</label>\r\n          <input\r\n            @input=\"$v.profile.email.$touch\"\r\n            :disabled=\"initialIsProcessing || !initialEditing\"\r\n            id=\"email\"\r\n            v-model=\"profile.email\"\r\n            name=\"email\"\r\n            type=\"email\"\r\n            class=\"form-control\"\r\n            placeholder=\"email\"\r\n            required\r\n            autofocus\r\n          />\r\n          <small\r\n            v-if=\"!$v.profile.email && $v.profile.email.$dirty\"\r\n            class=\"text-danger\"\r\n          >請輸入格式正確的電子信箱</small>\r\n          <small\r\n            v-if=\"!$v.profile.email.required && $v.profile.email.$dirty\"\r\n            class=\"text-danger\"\r\n          >電子信箱必填</small>\r\n        </div>\r\n\r\n        <div\r\n          class=\"form-label-group mb-3 col-sm-6 col-12\"\r\n          :class=\"{'form-group--error': $v.profile.account.$error}\"\r\n        >\r\n          <label for=\"name\">Account</label>\r\n          <input\r\n            @input=\"$v.profile.account.$touch\"\r\n            :disabled=\"initialIsProcessing || !initialEditing\"\r\n            maxlength=\"30\"\r\n            minlength=\"6\"\r\n            id=\"account\"\r\n            v-model=\"profile.account\"\r\n            name=\"account\"\r\n            type=\"text\"\r\n            class=\"form-control\"\r\n            placeholder=\"account\"\r\n            required\r\n          />\r\n          <small v-show=\"$v.profile.account.$error\" class=\"text-danger\">長度介於 5 - 30</small>\r\n        </div>\r\n        <div class=\"col-12 pb-4\">\r\n          <button\r\n            class=\"btn btn-primary w-50 p-2\"\r\n            :disabled=\"initialIsProcessing\"\r\n            @click.stop.prevent=\"$router.back()\"\r\n          >回上一頁</button>\r\n\r\n          <button\r\n            class=\"btn btn-primary w-50 p-2\"\r\n            :disabled=\"initialIsProcessing || $v.$invalid || !initialEditing\"\r\n            type=\"submit\"\r\n            @click.stop.prevent=\"handleSubmit\"\r\n          >{{ initialIsProcessing ? \"處理中...\" : \"送出\" }}</button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport memberTagAPI from \"../../apis/member/tag\";\r\nimport { emptyImageFilter } from \"../../utils/mixins\";\r\nimport {\r\n  required,\r\n  email,\r\n  minLength,\r\n  maxLength\r\n} from \"vuelidate/lib/validators\";\r\n\r\nexport default {\r\n  name: \"ProfileForm\",\r\n  mixins: [emptyImageFilter],\r\n  props: {\r\n    initialProfile: {\r\n      type: Object,\r\n      default: () => ({\r\n        account: \"\",\r\n        phone: \"\",\r\n        name: \"\",\r\n        email: \"\",\r\n        avatar: \"\",\r\n        preferredTags: [{ id: 1, name: \"\" }]\r\n      })\r\n    },\r\n    initialTags: {\r\n      type: Array,\r\n      default: () => []\r\n    },\r\n    initialIsProcessing: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    initialEditing: {\r\n      type: Boolean,\r\n      default: false\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      profile: this.initialProfile,\r\n      tags: this.initialTags,\r\n      tagName: \"\",\r\n      tag: \"\",\r\n      searchResult: []\r\n    };\r\n  },\r\n  validations: {\r\n    profile: {\r\n      account: {\r\n        required,\r\n        minLength: minLength(5),\r\n        maxLength: maxLength(30)\r\n      },\r\n      phone: {\r\n        required,\r\n        minLength: minLength(10),\r\n        maxLength: maxLength(10)\r\n      },\r\n      name: {\r\n        required,\r\n        minLength: minLength(1),\r\n        maxLength: maxLength(20)\r\n      },\r\n      email: {\r\n        required,\r\n        email\r\n      }\r\n    }\r\n  },\r\n  watch: {\r\n    initialProfile(profile) {\r\n      this.profile = {\r\n        ...this.profile,\r\n        ...profile\r\n      };\r\n    },\r\n    initialTags(tags) {\r\n      this.tags = {\r\n        ...this.tags,\r\n        ...tags\r\n      };\r\n    }\r\n  },\r\n  computed: {\r\n    tagsDisplay: function() {\r\n      let tagBox = [...this.searchResult, ...this.initialTags];\r\n      const filtered = tagBox.filter(function({ id, name }) {\r\n        const key = `${id}${name}`;\r\n        return !this.has(key) && this.add(key);\r\n      }, new Set());\r\n      let e = filtered.slice(0, 6);\r\n      return e;\r\n    }\r\n  },\r\n  created() {},\r\n  methods: {\r\n    edit() {\r\n      this.$emit(\"after-edit\");\r\n    },\r\n    async searchTag() {\r\n      try {\r\n        const response = await memberTagAPI.search({ name: this.tagName });\r\n        const { data, statusText } = response;\r\n        if (statusText !== \"OK\") {\r\n          throw new Error(statusText);\r\n        }\r\n        if (data.length === 0) {\r\n          this.$swal({\r\n            toast: true,\r\n            position: \"top\",\r\n            showConfirmButton: false,\r\n            timer: 3000,\r\n            icon: \"warning\",\r\n            title: \"未找到相關標籤\",\r\n            text: \"\"\r\n          });\r\n        }\r\n\r\n        this.searchResult = [];\r\n\r\n        data.map(tag => {\r\n          this.searchResult.push({ id: tag.id, name: tag.name });\r\n        });\r\n      } catch (error) {\r\n        // eslint-disable-next-line\r\n        console.log(\"error\", error);\r\n      }\r\n    },\r\n    handleFileChange(e) {\r\n      const files = e.target.files;\r\n      if (!files.length) return; // 如果沒有檔案則離開此函式\r\n      // 否則產生預覽圖...\r\n      const imageURL = window.URL.createObjectURL(files[0]);\r\n      this.profile.avatar = imageURL;\r\n    },\r\n    handleSubmit() {\r\n      this.$emit(\"after-submit\");\r\n    },\r\n    addTag(tag) {\r\n      var result = this.profile.preferredTags\r\n        .map(item => {\r\n          return item.name;\r\n        })\r\n        .indexOf(tag.name);\r\n\r\n      if (result === -1) {\r\n        this.profile.preferredTags.unshift(tag);\r\n      }\r\n    },\r\n    removeTag(tag) {\r\n      this.profile.preferredTags = this.profile.preferredTags.filter(\r\n        e => e !== tag\r\n      );\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.user-avatar {\r\n  border-radius: 30%;\r\n}\r\n.box-center {\r\n  @include response(md) {\r\n    height: 100%;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n  }\r\n}\r\ninput[type=\"number\"]::-webkit-inner-spin-button,\r\ninput[type=\"number\"]::-webkit-outer-spin-button {\r\n  -webkit-appearance: none;\r\n  margin: 0;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProfileForm.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProfileForm.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ProfileForm.vue?vue&type=template&id=187a69ee&scoped=true&\"\nimport script from \"./ProfileForm.vue?vue&type=script&lang=js&\"\nexport * from \"./ProfileForm.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ProfileForm.vue?vue&type=style&index=0&id=187a69ee&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"187a69ee\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{},[_c('div',{staticStyle:{\"height\":\"37px\"}}),_c('div',{staticClass:\"fixed-bottom\"},[_c('div',{staticClass:\"collapse\",attrs:{\"id\":\"navbarToggleExternalContent\"}},[_c('div',{staticClass:\"p-2 text-center\",staticStyle:{\"border-radius\":\"50% 50% 0 0\",\"background-color\":\"#e3f2fd\"}},[_c('router-link',{staticClass:\"d-block py-2 h4\",attrs:{\"to\":{name: 'member-profile'}}},[_vm._v(\"會員設定\")]),_c('router-link',{staticClass:\"d-block py-2 h4\",attrs:{\"to\":{name: 'member-password'}}},[_vm._v(\"密碼設定\")]),_c('router-link',{staticClass:\"d-block py-2 h4\",attrs:{\"to\":{name: 'member-my-orders'}}},[_vm._v(\"訂餐紀錄\")]),_c('div',{staticClass:\"text-primary py-2 h4\",on:{\"click\":_vm.logout}},[_vm._v(\"登出\")])],1)]),_c('nav',{staticClass:\"navbar navbar-light d-flex justify-content-around\",staticStyle:{\"background-color\":\"#e3f2fd\"}},[_c('router-link',{attrs:{\"to\":{name: 'member-menu'}}},[_vm._v(\"菜單\")]),_c('router-link',{attrs:{\"to\":{name: 'member-order-list'}}},[_vm._v(\"結帳\")]),_c('router-link',{attrs:{\"to\":{name: 'member-order-state'}}},[_vm._v(\"狀態\")]),_c('p',{staticClass:\"text-primary\",attrs:{\"data-toggle\":\"collapse\",\"data-target\":\"#navbarToggleExternalContent\",\"aria-controls\":\"navbarToggleExternalContent\",\"aria-expanded\":\"false\",\"aria-label\":\"Toggle navigation\"}},[_vm._v(\"會員\")])],1)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class>\r\n    <div style=\"height:37px;\"></div>\r\n    <div class=\"fixed-bottom\">\r\n      <div class=\"collapse\" id=\"navbarToggleExternalContent\">\r\n        <div class=\"p-2 text-center\" style=\"border-radius: 50% 50% 0 0;background-color: #e3f2fd;\">\r\n          <router-link :to=\"{name: 'member-profile'}\" class=\"d-block py-2 h4\">會員設定</router-link>\r\n          <router-link :to=\"{name: 'member-password'}\" class=\"d-block py-2 h4\">密碼設定</router-link>\r\n          <router-link :to=\"{name: 'member-my-orders'}\" class=\"d-block py-2 h4\">訂餐紀錄</router-link>\r\n          <div class=\"text-primary py-2 h4\" @click=\"logout\">登出</div>\r\n        </div>\r\n      </div>\r\n      <nav\r\n        class=\"navbar navbar-light d-flex justify-content-around\"\r\n        style=\"background-color: #e3f2fd;\"\r\n      >\r\n        <router-link :to=\"{name: 'member-menu'}\">菜單</router-link>\r\n        <router-link :to=\"{name: 'member-order-list'}\">結帳</router-link>\r\n        <router-link :to=\"{name: 'member-order-state'}\">狀態</router-link>\r\n        <p\r\n          class=\"text-primary\"\r\n          data-toggle=\"collapse\"\r\n          data-target=\"#navbarToggleExternalContent\"\r\n          aria-controls=\"navbarToggleExternalContent\"\r\n          aria-expanded=\"false\"\r\n          aria-label=\"Toggle navigation\"\r\n        >會員</p>\r\n      </nav>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"MemberNavbarBottom\",\r\n  data() {\r\n    return {};\r\n  },\r\n  created() {},\r\n  methods: {\r\n    logout() {\r\n      this.$store.commit(\"revokeAuthentication\");\r\n      this.$router.push(\"/signin\");\r\n    }\r\n  }\r\n};\r\n</script>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MemberNavbarBottom.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MemberNavbarBottom.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MemberNavbarBottom.vue?vue&type=template&id=7b7f9f87&\"\nimport script from \"./MemberNavbarBottom.vue?vue&type=script&lang=js&\"\nexport * from \"./MemberNavbarBottom.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}