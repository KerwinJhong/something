{"version":3,"sources":["webpack:///./src/apis/admin/category.js","webpack:///./node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","webpack:///./node_modules/@babel/runtime/helpers/esm/iterableToArray.js","webpack:///./node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","webpack:///./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","webpack:///./src/views/admin/AdminManageMeal.vue?acdc","webpack:///./src/components/Table/AdminManageMealTable.vue?23b8","webpack:///src/components/Table/AdminManageMealTable.vue","webpack:///./src/components/Table/AdminManageMealTable.vue?1556","webpack:///./src/components/Table/AdminManageMealTable.vue","webpack:///src/views/admin/AdminManageMeal.vue","webpack:///./src/views/admin/AdminManageMeal.vue?4f17","webpack:///./src/views/admin/AdminManageMeal.vue","webpack:///./src/components/Tabs/AdminManageTabs.vue?819d","webpack:///./src/components/Tabs/AdminManageTabs.vue?e89d","webpack:///src/components/Tabs/AdminManageTabs.vue","webpack:///./src/components/Tabs/AdminManageTabs.vue?31b7","webpack:///./src/components/Tabs/AdminManageTabs.vue","webpack:///./node_modules/core-js/modules/es.array.from.js","webpack:///./src/components/Table/AdminManageMealTable.vue?b1af","webpack:///./src/apis/admin/dish.js","webpack:///./node_modules/core-js/modules/es.symbol.iterator.js","webpack:///./node_modules/core-js/modules/es.symbol.description.js"],"names":["categories","get","apiHelper","category","categoryId","post","name","put","delete","TagId","_arrayWithoutHoles","arr","Array","isArray","i","arr2","length","_iterableToArray","iter","Symbol","iterator","Object","prototype","toString","call","from","_nonIterableSpread","TypeError","_toConsumableArray","arrayWithoutHoles","iterableToArray","nonIterableSpread","render","_vm","this","_h","$createElement","_c","_self","attrs","title","loadedCategories","loadedDish","dishes","on","afterDeleteDish","staticRenderFns","staticClass","_l","key","id","query","_v","_s","initialDishes","dish","staticStyle","params","$event","stopPropagation","preventDefault","handleDeleteButtonClick","image","description","price","props","initialCategories","type","data","dishId","isProcessing","methods","$emit","created","watch","component","components","AdminNavbarTop","AdminNavbarBottm","AdminManageMealTable","AdminManageTabs","Spinner","socket","computed","emit","fetchCategories","fetchDishes","beforeRouteUpdate","next","routeName","$","checkCorrectnessOfIteration","INCORRECT_ITERATION","iterable","target","stat","forced","searchParams","URLSearchParams","formData","defineWellKnownSymbol","DESCRIPTORS","global","has","isObject","defineProperty","f","copyConstructorProperties","NativeSymbol","undefined","EmptyStringDescriptionStore","SymbolWrapper","arguments","String","result","symbolPrototype","constructor","symbolToString","native","regexp","configurable","symbol","valueOf","string","desc","slice","replace"],"mappings":"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","file":"js/chunk-d6efaee4.64b062f2.js","sourcesContent":["import { apiHelper } from '../../utils/helpers'\r\n\r\nexport default {\r\n  categories: {\r\n    get() {\r\n      return apiHelper.get('/admin/categories')\r\n    }\r\n  },\r\n  category: {\r\n    get(categoryId) {\r\n      return apiHelper.get(`/admin/categories/${categoryId}`)\r\n    },\r\n    post(name) {\r\n      return apiHelper.post(`/admin/categories`, name)\r\n    },\r\n    put({ categoryId, name }) {\r\n      return apiHelper.put(`/admin/categories/${categoryId}`, { name })\r\n    },\r\n    delete(TagId) {\r\n      return apiHelper.delete(`/admin/categories/${TagId}`)\r\n    }\r\n  }\r\n}","export default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  }\n}","export default function _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}","import arrayWithoutHoles from \"./arrayWithoutHoles\";\nimport iterableToArray from \"./iterableToArray\";\nimport nonIterableSpread from \"./nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || nonIterableSpread();\n}","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('AdminNavbarTop',{attrs:{\"initial-title\":_vm.title}}),(_vm.loadedCategories && _vm.loadedDish)?_c('Spinner'):[_c('AdminManageTabs'),_c('div',[_c('AdminManageMealTable',{attrs:{\"initial-categories\":_vm.categories,\"initial-dishes\":_vm.dishes},on:{\"after-delete-dish\":_vm.afterDeleteDish}})],1)],_c('AdminNavbarBottm')],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('ul',{staticClass:\"nav nav-pills my-1\"},_vm._l((_vm.categories),function(category){return _c('li',{key:category.id,staticClass:\"nav-item\"},[_c('router-link',{staticClass:\"nav-link\",attrs:{\"to\":{ name: 'admin-manage-meal', query: { categoryId: category.id } }}},[_vm._v(_vm._s(category.name))])],1)}),0),_c('div',{staticClass:\"card-columns border border-dark meal\"},[(this.initialDishes.length < 1)?_c('h1',{staticClass:\"warningText\"},[_vm._v(\"新增一些餐點吧!\")]):_vm._l((_vm.dishes),function(dish){return _c('div',{key:dish.id,staticClass:\"card shadow-sm\"},[_c('div',{staticClass:\"card-header d-flex justify-content-between p-0\"},[_c('h5',{staticClass:\"pt-1\"},[_vm._v(_vm._s(dish.name))]),_c('div',{staticClass:\"dropdown dropleft\"},[_c('div',{attrs:{\"id\":\"dropdownMenu1\",\"data-toggle\":\"dropdown\",\"aria-haspopup\":\"true\",\"aria-expanded\":\"false\"}},[_c('svg',{staticStyle:{\"width\":\"24px\",\"height\":\"24px\"},attrs:{\"viewBox\":\"0 0 24 24\"}},[_c('path',{attrs:{\"fill\":\"#000000\",\"d\":\"M16,12A2,2 0 0,1 18,10A2,2 0 0,1 20,12A2,2 0 0,1 18,14A2,2 0 0,1 16,12M10,12A2,2 0 0,1 12,10A2,2 0 0,1 14,12A2,2 0 0,1 12,14A2,2 0 0,1 10,12M4,12A2,2 0 0,1 6,10A2,2 0 0,1 8,12A2,2 0 0,1 6,14A2,2 0 0,1 4,12Z\"}})])]),_c('div',{staticClass:\"dropdown-menu\",attrs:{\"aria-labelledby\":\"dropdownMenu1\"}},[_c('router-link',{staticClass:\"dropdown-item\",attrs:{\"to\":{ name: 'admin-dish-edit', params: { id: dish.id }}}},[_vm._v(\"編輯\")]),_c('a',{staticClass:\"dropdown-item\",on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.handleDeleteButtonClick(dish.id)}}},[_vm._v(\"刪除\")])],1)])]),_c('div',{staticClass:\"row\",staticStyle:{\"height\":\"140px\"}},[_c('img',{staticClass:\"card-img-top col-6 px-0\",attrs:{\"src\":dish.image,\"height\":\"140px\",\"width\":\"220px\"}}),_c('div',{staticClass:\"card-body col-6 p-0 px-2\"},[_c('p',{staticClass:\"card-text overflow-hidden\",staticStyle:{\"height\":\"110px\"}},[_vm._v(_vm._s(dish.description))]),_c('p',{staticStyle:{\"position\":\"absolute\",\"bottom\":\"0\"}},[_vm._v(\"價格：\"+_vm._s(dish.price))])])])])})],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <ul class=\"nav nav-pills my-1\">\r\n      <li v-for=\"category in categories\" :key=\"category.id\" class=\"nav-item\">\r\n        <router-link\r\n          class=\"nav-link\"\r\n          :to=\"{ name: 'admin-manage-meal', query: { categoryId: category.id } }\"\r\n        >{{ category.name }}</router-link>\r\n      </li>\r\n    </ul>\r\n    <div class=\"card-columns border border-dark meal\">\r\n      <h1 v-if=\"this.initialDishes.length < 1\" class=\"warningText\">新增一些餐點吧!</h1>\r\n      <div v-else v-for=\"dish in dishes\" :key=\"dish.id\" class=\"card shadow-sm\">\r\n        <div class=\"card-header d-flex justify-content-between p-0\">\r\n          <h5 class=\"pt-1\">{{ dish.name }}</h5>\r\n          <div class=\"dropdown dropleft\">\r\n            <div\r\n              id=\"dropdownMenu1\"\r\n              data-toggle=\"dropdown\"\r\n              aria-haspopup=\"true\"\r\n              aria-expanded=\"false\"\r\n            >\r\n              <svg style=\"width:24px;height:24px\" viewBox=\"0 0 24 24\">\r\n                <path\r\n                  fill=\"#000000\"\r\n                  d=\"M16,12A2,2 0 0,1 18,10A2,2 0 0,1 20,12A2,2 0 0,1 18,14A2,2 0 0,1 16,12M10,12A2,2 0 0,1 12,10A2,2 0 0,1 14,12A2,2 0 0,1 12,14A2,2 0 0,1 10,12M4,12A2,2 0 0,1 6,10A2,2 0 0,1 8,12A2,2 0 0,1 6,14A2,2 0 0,1 4,12Z\"\r\n                />\r\n              </svg>\r\n            </div>\r\n            <div class=\"dropdown-menu\" aria-labelledby=\"dropdownMenu1\">\r\n              <router-link\r\n                class=\"dropdown-item\"\r\n                :to=\"{ name: 'admin-dish-edit', params: { id: dish.id }}\"\r\n              >編輯</router-link>\r\n              <a class=\"dropdown-item\" @click.stop.prevent=\"handleDeleteButtonClick(dish.id)\">刪除</a>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"row\" style=\"height: 140px\">\r\n          <img :src=\"dish.image\" class=\"card-img-top col-6 px-0\" height=\"140px\" width=\"220px\" />\r\n          <div class=\"card-body col-6 p-0 px-2\">\r\n            <p class=\"card-text overflow-hidden\" style=\"height: 110px;\">{{ dish.description }}</p>\r\n            <p style=\"position: absolute;bottom: 0;\">價格：{{ dish.price }}</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"AdminManageMealTable\",\r\n  props: {\r\n    initialCategories: {\r\n      type: Array\r\n    },\r\n    initialDishes: {\r\n      type: Array\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      dishId: 0,\r\n      isProcessing: false,\r\n      categories: this.initialCategories,\r\n      dishes: this.initialDishes\r\n    };\r\n  },\r\n  methods: {\r\n    handleDeleteButtonClick(dishId) {\r\n      this.$emit(\"after-delete-dish\", dishId);\r\n    }\r\n  },\r\n  created() {},\r\n  watch: {\r\n    initialCategories(categories) {\r\n      this.categories = {\r\n        ...this.categories,\r\n        ...categories\r\n      };\r\n    },\r\n    initialDishes(dishes) {\r\n      this.dishes = {};\r\n      this.dishes = {\r\n        ...this.dishes,\r\n        ...dishes\r\n      };\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.meal {\r\n  height: calc(100vh - 190px);\r\n  overflow: auto;\r\n}\r\n.dropdown-menu {\r\n  min-width: 2.5rem;\r\n}\r\n.warningText {\r\n  display: flex;\r\n  justify-content: center;\r\n  margin-top: 30vh;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdminManageMealTable.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdminManageMealTable.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AdminManageMealTable.vue?vue&type=template&id=71cdfe3a&scoped=true&\"\nimport script from \"./AdminManageMealTable.vue?vue&type=script&lang=js&\"\nexport * from \"./AdminManageMealTable.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AdminManageMealTable.vue?vue&type=style&index=0&id=71cdfe3a&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"71cdfe3a\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div>\r\n    <AdminNavbarTop :initial-title=\"title\" />\r\n\r\n    <Spinner v-if=\"loadedCategories && loadedDish\" />\r\n    <template v-else>\r\n      <AdminManageTabs />\r\n\r\n      <div>\r\n        <AdminManageMealTable\r\n          :initial-categories=\"categories\"\r\n          :initial-dishes=\"dishes\"\r\n          @after-delete-dish=\"afterDeleteDish\"\r\n        />\r\n      </div>\r\n    </template>\r\n    <AdminNavbarBottm />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport AdminNavbarTop from \"../../components/Navbar/AdminNavbarTop\";\r\nimport AdminNavbarBottm from \"../../components/Navbar/AdminNavbarBottm\";\r\nimport AdminManageMealTable from \"../../components/Table/AdminManageMealTable\";\r\nimport AdminManageTabs from \"../../components/Tabs/AdminManageTabs\";\r\nimport Spinner from \"../../components/Spinner/Spinner\";\r\nimport adminDishAPI from \"../../apis/admin/dish\";\r\nimport adminCategoryAPI from \"../../apis/admin/category\";\r\nimport io from \"socket.io-client\";\r\n\r\nexport default {\r\n  name: \"AdminManageMeal\",\r\n  components: {\r\n    AdminNavbarTop,\r\n    AdminNavbarBottm,\r\n    AdminManageMealTable,\r\n    AdminManageTabs,\r\n    Spinner\r\n  },\r\n  data() {\r\n    return {\r\n      title: \"菜單管理\",\r\n      categories: [],\r\n      dishes: [],\r\n      loadedCategories: true,\r\n      loadedDish: true,\r\n      socket: io(\"https://recusplatform.herokuapp.com/\")\r\n    };\r\n  },\r\n  computed: {},\r\n  created() {\r\n    // add socket\r\n    this.socket.emit(\"init\");\r\n    const { categoryId = 1 } = this.$route.query;\r\n    this.fetchCategories();\r\n    this.fetchDishes({ categoryId });\r\n  },\r\n  beforeRouteUpdate(to, from, next) {\r\n    const { categoryId = 1 } = to.query;\r\n    this.fetchDishes({ categoryId });\r\n    next();\r\n  },\r\n  methods: {\r\n    async fetchCategories() {\r\n      try {\r\n        const response = await adminCategoryAPI.categories.get();\r\n        const { data, statusText } = response;\r\n        if (statusText !== \"OK\") {\r\n          throw new Error(statusText);\r\n        }\r\n        this.categories = data.categories;\r\n        this.loadedCategories = false;\r\n      } catch (error) {\r\n        this.loadedCategories = false;\r\n        // eslint-disable-next-line\r\n        console.log(\"error\", error);\r\n      }\r\n    },\r\n    async fetchDishes(categoryId) {\r\n      try {\r\n        const response = await adminDishAPI.dishes.get(categoryId);\r\n        const { data, statusText } = response;\r\n        if (statusText !== \"OK\") {\r\n          throw new Error(statusText);\r\n        }\r\n        this.dishes = [...data.dishes];\r\n        this.loadedDish = false;\r\n      } catch (error) {\r\n        this.loadedDish = false;\r\n        this.$swal({\r\n          icon: \"warning\",\r\n          title: \"無法取得資料，請稍後再試\"\r\n        });\r\n        // eslint-disable-next-line\r\n        console.log(\"error\", error);\r\n      }\r\n    },\r\n    async afterDeleteDish(dishId) {\r\n      try {\r\n        const response = await adminDishAPI.dish.delete(dishId);\r\n        const { data, statusText } = response;\r\n\r\n        if (statusText !== \"OK\" || data.status !== \"success\") {\r\n          throw new Error(statusText);\r\n        }\r\n\r\n        this.dishes = this.dishes.filter(dish => dish.id !== dishId);\r\n\r\n        this.$swal({\r\n          icon: \"success\",\r\n          title: data.msg\r\n        });\r\n      } catch (error) {\r\n        this.$swal({\r\n          icon: \"warning\",\r\n          title: \"無法取得資料，請稍後再試\"\r\n        });\r\n        // eslint-disable-next-line\r\n        console.log(\"error\", error);\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdminManageMeal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdminManageMeal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AdminManageMeal.vue?vue&type=template&id=717e5c2a&\"\nimport script from \"./AdminManageMeal.vue?vue&type=script&lang=js&\"\nexport * from \"./AdminManageMeal.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdminManageTabs.vue?vue&type=style&index=0&id=025e03f2&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdminManageTabs.vue?vue&type=style&index=0&id=025e03f2&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ul',{staticClass:\"nav nav-pills my-2 col-4\"},[_vm._l((_vm.categories),function(category){return _c('li',{key:category.id,staticClass:\"nav-item\"},[_c('router-link',{staticClass:\"nav-link\",attrs:{\"to\":{ name: category.routeName }}},[_vm._v(_vm._s(category.name))])],1)}),_c('li',{staticClass:\"nav-item\"},[_c('router-link',{staticClass:\"nav-link\",attrs:{\"to\":{ name: 'admin-dish-new'}}},[_vm._v(\"新增菜單\")])],1)],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template lang=\"zh-TW\">\r\n  <ul class=\"nav nav-pills my-2 col-4\">\r\n    <li v-for=\"category in categories\" :key=\"category.id\" class=\"nav-item\">\r\n      <router-link\r\n        class=\"nav-link\"\r\n        :to=\"{ name: category.routeName }\"\r\n      >{{ category.name }}</router-link>\r\n    </li>\r\n    <li class=\"nav-item\">\r\n      <router-link class=\"nav-link\" :to=\"{ name: 'admin-dish-new'}\">新增菜單</router-link>\r\n    </li>\r\n  </ul>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"AdminManageTabs\",\r\n  data() {\r\n    return {\r\n      categories: [\r\n        { id: 1, name: \"菜單\", routeName: \"admin-manage-meal\" },\r\n        { id: 2, name: \"分類\", routeName: \"admin-manage-categories\" },\r\n        { id: 3, name: \"標籤\", routeName: \"admin-manage-tages\" }\r\n      ]\r\n    };\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.meal {\r\n  max-height: calc(100vh - 240px);\r\n  overflow: auto;\r\n}\r\n.dish {\r\n  max-height: 100px;\r\n  padding: 15px 15px;\r\n}\r\n.dishName {\r\n  margin-bottom: 15px;\r\n}\r\n.dish span {\r\n  vertical-align: middle;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdminManageTabs.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdminManageTabs.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AdminManageTabs.vue?vue&type=template&id=025e03f2&scoped=true&lang=zh-TW&\"\nimport script from \"./AdminManageTabs.vue?vue&type=script&lang=js&\"\nexport * from \"./AdminManageTabs.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AdminManageTabs.vue?vue&type=style&index=0&id=025e03f2&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"025e03f2\",\n  null\n  \n)\n\nexport default component.exports","var $ = require('../internals/export');\nvar from = require('../internals/array-from');\nvar checkCorrectnessOfIteration = require('../internals/check-correctness-of-iteration');\n\nvar INCORRECT_ITERATION = !checkCorrectnessOfIteration(function (iterable) {\n  Array.from(iterable);\n});\n\n// `Array.from` method\n// https://tc39.github.io/ecma262/#sec-array.from\n$({ target: 'Array', stat: true, forced: INCORRECT_ITERATION }, {\n  from: from\n});\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdminManageMealTable.vue?vue&type=style&index=0&id=71cdfe3a&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdminManageMealTable.vue?vue&type=style&index=0&id=71cdfe3a&scoped=true&lang=css&\"","import { apiHelper } from '../../utils/helpers'\r\n\r\nexport default {\r\n  dishes: {\r\n    get({ categoryId }) {\r\n      const searchParams = new URLSearchParams({ categoryId })\r\n      return apiHelper.get(`/admin/dishes?${searchParams.toString()}`)\r\n    }\r\n  },\r\n  dish: {\r\n    get(dishId) {\r\n      return apiHelper.get(`/admin/dishes/${dishId}`)\r\n    },\r\n    post(formData) {\r\n      return apiHelper.post(`/admin/dishes`, formData)\r\n    },\r\n    put({ dishId, formData }) {\r\n      return apiHelper.put(`/admin/dishes/${dishId}`, formData)\r\n    },\r\n    delete(dishId) {\r\n      return apiHelper.delete(`/admin/dishes/${dishId}`)\r\n    }\r\n  }\r\n}","var defineWellKnownSymbol = require('../internals/define-well-known-symbol');\n\n// `Symbol.iterator` well-known symbol\n// https://tc39.github.io/ecma262/#sec-symbol.iterator\ndefineWellKnownSymbol('iterator');\n","// `Symbol.prototype.description` getter\n// https://tc39.github.io/ecma262/#sec-symbol.prototype.description\n'use strict';\nvar $ = require('../internals/export');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar global = require('../internals/global');\nvar has = require('../internals/has');\nvar isObject = require('../internals/is-object');\nvar defineProperty = require('../internals/object-define-property').f;\nvar copyConstructorProperties = require('../internals/copy-constructor-properties');\n\nvar NativeSymbol = global.Symbol;\n\nif (DESCRIPTORS && typeof NativeSymbol == 'function' && (!('description' in NativeSymbol.prototype) ||\n  // Safari 12 bug\n  NativeSymbol().description !== undefined\n)) {\n  var EmptyStringDescriptionStore = {};\n  // wrap Symbol constructor for correct work with undefined description\n  var SymbolWrapper = function Symbol() {\n    var description = arguments.length < 1 || arguments[0] === undefined ? undefined : String(arguments[0]);\n    var result = this instanceof SymbolWrapper\n      ? new NativeSymbol(description)\n      // in Edge 13, String(Symbol(undefined)) === 'Symbol(undefined)'\n      : description === undefined ? NativeSymbol() : NativeSymbol(description);\n    if (description === '') EmptyStringDescriptionStore[result] = true;\n    return result;\n  };\n  copyConstructorProperties(SymbolWrapper, NativeSymbol);\n  var symbolPrototype = SymbolWrapper.prototype = NativeSymbol.prototype;\n  symbolPrototype.constructor = SymbolWrapper;\n\n  var symbolToString = symbolPrototype.toString;\n  var native = String(NativeSymbol('test')) == 'Symbol(test)';\n  var regexp = /^Symbol\\((.*)\\)[^)]+$/;\n  defineProperty(symbolPrototype, 'description', {\n    configurable: true,\n    get: function description() {\n      var symbol = isObject(this) ? this.valueOf() : this;\n      var string = symbolToString.call(symbol);\n      if (has(EmptyStringDescriptionStore, symbol)) return '';\n      var desc = native ? string.slice(7, -1) : string.replace(regexp, '$1');\n      return desc === '' ? undefined : desc;\n    }\n  });\n\n  $({ global: true, forced: true }, {\n    Symbol: SymbolWrapper\n  });\n}\n"],"sourceRoot":""}